!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){a("./src/scripts/main")},{"./src/scripts/main":6}],2:[function(a,b,c){
//  Backbone-associations may be freely distributed under the MIT license.
!function(d,e){if("function"==typeof define&&define.amd)define(["underscore","backbone"],function(a,b){return e(d,b,a)});else if("undefined"!=typeof c){var f=a("underscore"),g=a("backbone");e(d,g,f),"undefined"!=typeof b&&b.exports&&(b.exports=g),c=g}else e(d,d.Backbone,d._)}(this,function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o={};d=b.Model,e=b.Collection,f=d.prototype,h=e.prototype,g=b.Events,b.Associations={VERSION:"0.6.2"},b.Associations.scopes=[];var p=function(){return l},q=function(a){(!c.isString(a)||c.size(a)<1)&&(a="."),l=a,j=new RegExp("[\\"+l+"\\[\\]]+","g"),k=new RegExp("[^\\"+l+"\\[\\]]+","g")};try{Object.defineProperty(b.Associations,"SEPARATOR",{enumerable:!0,get:p,set:q})}catch(r){}b.Associations.Many=b.Many="Many",b.Associations.One=b.One="One",b.Associations.Self=b.Self="Self",b.Associations.SEPARATOR=".",b.Associations.getSeparator=p,b.Associations.setSeparator=q,b.Associations.EVENTS_BUBBLE=!0,b.Associations.EVENTS_WILDCARD=!0,b.Associations.EVENTS_NC=!1,q(),i=b.AssociatedModel=b.Associations.AssociatedModel=d.extend({relations:void 0,_proxyCalls:void 0,constructor:function(a,b){b&&b.__parents__&&(this.parents=[b.__parents__]),d.apply(this,arguments)},on:function(a,d,e){var f=g.on.apply(this,arguments);if(b.Associations.EVENTS_NC)return f;var h=/\s+/;if(c.isString(a)&&a&&!h.test(a)&&d){var i=t(a);i&&(o[i]="undefined"==typeof o[i]?1:o[i]+1)}return f},off:function(a,d,e){if(b.Associations.EVENTS_NC)return g.off.apply(this,arguments);var f=/\s+/,h=this._events,i={},j=h?c.keys(h):[],k=!a&&!d&&!e,l=c.isString(a)&&!f.test(a);if(k||l)for(var m=0,n=j.length;n>m;m++)i[j[m]]=h[j[m]]?h[j[m]].length:0;var p=g.off.apply(this,arguments);if(k||l)for(m=0,n=j.length;n>m;m++){var q=t(j[m]);q&&(h[j[m]]?o[q]-=i[j[m]]-h[j[m]].length:o[q]-=i[j[m]])}return p},get:function(a){var b=this.__attributes__,c=f.get.call(this,a),d=b?w(c)?c:b[a]:c;return w(d)?d:this._getAttr.apply(this,arguments)},set:function(a,b,d){var e,f;return c.isObject(a)||null==a?(e=a,d=b):(e={},e[a]=b),f=this._set(e,d),this._processPendingEvents(),f},_set:function(a,b){var e,f,g,h,i=this;if(!a)return this;this.__attributes__=a;for(e in a)if(f||(f={}),e.match(j)){var k=s(e),l=c.initial(k),m=k[k.length-1],n=this.get(l);n instanceof d&&(h=f[n.cid]||(f[n.cid]={model:n,data:{}}),h.data[m]=a[e])}else h=f[this.cid]||(f[this.cid]={model:this,data:{}}),h.data[e]=a[e];if(f)for(g in f)h=f[g],this._setAttr.call(h.model,h.data,b)||(i=!1);else i=this._setAttr.call(this,a,b);return delete this.__attributes__,i},_setAttr:function(g,h){var i;if(h||(h={}),h.unset)for(i in g)g[i]=void 0;return this.parents=this.parents||[],this.relations&&c.each(this.relations,function(f){var i,j,k,l,m=f.key,n=f.scope||a,o=this._transformRelatedModel(f,g),p=this._transformCollectionType(f,o,g),q=c.isString(f.map)?u(f.map,n):f.map,r=this.attributes[m],s=r&&r.idAttribute,t=!1;if(j=f.options?c.extend({},f.options,h):h,g[m]){if(i=c.result(g,m),i=q?q.call(this,i,p?p:o):i,w(i))if(f.type===b.Many)r?(r._deferEvents=!0,r[j.reset?"reset":"set"](i instanceof e?i.models:i,j),k=r):(t=!0,i instanceof e?k=i:(k=this._createCollection(p||e,f.collectionOptions||(o?{model:o}:{})),k[j.reset?"reset":"set"](i,j)));else{if(f.type!==b.One)throw new Error("type attribute must be specified and have the values Backbone.One or Backbone.Many");var v=i instanceof d?i.attributes.hasOwnProperty(s):i.hasOwnProperty(s),x=i instanceof d?i.attributes[s]:i[s];r&&v&&r.attributes[s]===x?(r._deferEvents=!0,r._set(i instanceof d?i.attributes:i,j),k=r):(t=!0,i instanceof d?k=i:(j.__parents__=this,k=new o(i,j),delete j.__parents__))}else k=i;g[m]=k,l=k,(t||l&&!l._proxyCallback)&&(l._proxyCallback||(l._proxyCallback=function(){return b.Associations.EVENTS_BUBBLE&&this._bubbleEvent.call(this,m,l,arguments)}),l.on("all",l._proxyCallback,this))}g.hasOwnProperty(m)&&this._setupParents(g[m],this.attributes[m])},this),f.set.call(this,g,h)},_bubbleEvent:function(a,c,f){var g,h,i=f,j=i[0].split(":"),k=j[0],p="nested-change"==i[0],q="change"===k,r=i[1],s=-1,u=c._proxyCalls,v=j[1],w=!v||-1==v.indexOf(l);if(!p&&(w&&(n=t(i[0])||a),b.Associations.EVENTS_NC||o[n])){if(b.Associations.EVENTS_WILDCARD&&/\[\*\]/g.test(v))return this;if(c instanceof e&&(q||v)&&(s=c.indexOf(m||r)),this instanceof d&&(m=this),v=a+(-1!==s&&(q||v)?"["+s+"]":"")+(v?l+v:""),b.Associations.EVENTS_WILDCARD&&(h=v.replace(/\[\d+\]/g,"[*]")),g=[],g.push.apply(g,i),g[0]=k+":"+v,b.Associations.EVENTS_WILDCARD&&v!==h&&(g[0]=g[0]+" "+k+":"+h),u=c._proxyCalls=u||{},this._isEventAvailable.call(this,u,v))return this;if(u[v]=!0,q&&(this._previousAttributes[a]=c._previousAttributes,this.changed[a]=c),this.trigger.apply(this,g),b.Associations.EVENTS_NC&&q&&this.get(v)!=i[2]){var x=["nested-change",v,i[1]];i[2]&&x.push(i[2]),this.trigger.apply(this,x)}return u&&v&&delete u[v],m=void 0,this}},_isEventAvailable:function(a,b){return c.find(a,function(a,c){return-1!==b.indexOf(c,b.length-c.length)})},_setupParents:function(a,b){a&&(a.parents=a.parents||[],-1==c.indexOf(a.parents,this)&&a.parents.push(this)),b&&b.parents.length>0&&b!=a&&(b.parents=c.difference(b.parents,[this]),b._proxyCallback&&b.off("all",b._proxyCallback,this))},_createCollection:function(a,b){b=c.defaults(b,{model:a.model});var d=new a([],c.isFunction(b)?b.call(this):b);return d.parents=[this],d},_processPendingEvents:function(){this._processedEvents||(this._processedEvents=!0,this._deferEvents=!1,c.each(this._pendingEvents,function(a){a.c.trigger.apply(a.c,a.a)}),this._pendingEvents=[],c.each(this.relations,function(a){var b=this.attributes[a.key];b&&b._processPendingEvents&&b._processPendingEvents()},this),delete this._processedEvents)},_transformRelatedModel:function(e,f){var g=e.relatedModel,h=e.scope||a;if(!g||g.prototype instanceof d||(g=c.isFunction(g)?g.call(this,e,f):g),g&&c.isString(g)&&(g=g===b.Self?this.constructor:u(g,h)),e.type===b.One){if(!g)throw new Error("specify a relatedModel for Backbone.One type");if(!(g.prototype instanceof b.Model))throw new Error("specify an AssociatedModel or Backbone.Model for Backbone.One type")}return g},_transformCollectionType:function(f,g,h){var i=f.collectionType,j=f.scope||a;if(i&&c.isFunction(i)&&i.prototype instanceof d)throw new Error("type is of Backbone.Model. Specify derivatives of Backbone.Collection");if(!i||i.prototype instanceof e||(i=c.isFunction(i)?i.call(this,f,h):i),i&&c.isString(i)&&(i=u(i,j)),i&&!i.prototype instanceof e)throw new Error("collectionType must inherit from Backbone.Collection");if(f.type===b.Many&&!g&&!i)throw new Error("specify either a relatedModel or collectionType");return i},trigger:function(a){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):f.trigger.apply(this,arguments)},toJSON:function(a){var b,d={};return d[this.idAttribute]=this.id,this.visited||(this.visited=!0,d=f.toJSON.apply(this,arguments),a&&a.serialize_keys&&(d=c.pick(d,a.serialize_keys)),this.relations&&c.each(this.relations,function(e){var f=e.key,g=e.remoteKey,h=this.attributes[f],i=!e.isTransient,j=e.serialize||[],k=c.clone(a);delete d[f],i&&(j.length&&(k?k.serialize_keys=j:k={serialize_keys:j}),b=h&&h.toJSON?h.toJSON(k):h,d[g||f]=c.isArray(b)?c.compact(b):b)},this),delete this.visited),d},clone:function(a){return new this.constructor(this.toJSON(a))},cleanup:function(a){a=a||{},c.each(this.relations,function(a){var b=this.attributes[a.key];b&&(b._proxyCallback&&b.off("all",b._proxyCallback,this),b.parents=c.difference(b.parents,[this]))},this),!a.listen&&this.off()},destroy:function(a){a=a?c.clone(a):{},a=c.defaults(a,{remove_references:!0,listen:!0});var b=this;if(a.remove_references&&a.wait){var d=a.success;a.success=function(c){d&&d(b,c,a),b.cleanup(a)}}var e=f.destroy.apply(this,[a]);return a.remove_references&&!a.wait&&b.cleanup(a),e},_getAttr:function(a){var b,d,f=this,g=this.__attributes__,h=s(a);if(!(c.size(h)<1)){for(d=0;d<h.length&&(b=h[d],f);d++)f=f instanceof e?isNaN(b)?void 0:f.at(b):g?w(f.attributes[b])?f.attributes[b]:g[b]:f.attributes[b];return f}}});var s=function(a){return""===a?[""]:c.isString(a)?a.match(k):a||[]},t=function(a){if(!a)return a;var b=a.split(":");return b.length>1?(a=b[b.length-1],b=a.split(l),b.length>1?b[b.length-1].split("[")[0]:b[0].split("[")[0]):""},u=function(a,d){var e,f=[d];f.push.apply(f,b.Associations.scopes);for(var g,h=0,i=f.length;i>h&&(!(g=f[h])||!(e=c.reduce(a.split(l),function(a,b){return a[b]},g)));++h);return e},v=function(a,b,d){var e,f;return c.find(a,function(a){return e=c.find(a.relations,function(c){return a.get(c.key)===b},this),e?(f=a,!0):void 0},this),e&&e.map?e.map.call(f,d,b):d},w=function(a){return!c.isUndefined(a)&&!c.isNull(a)},x={};return c.each(["set","remove","reset"],function(a){x[a]=e.prototype[a],h[a]=function(b,c){return this.model.prototype instanceof i&&this.parents&&(arguments[0]=v(this.parents,this,b)),x[a].apply(this,arguments)}}),x.trigger=h.trigger,h.trigger=function(a){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):x.trigger.apply(this,arguments)},h._processPendingEvents=i.prototype._processPendingEvents,h.on=i.prototype.on,h.off=i.prototype.off,b})},{backbone:4,underscore:5}],3:[function(a,b,c){!function(d,e){"object"==typeof c&&"function"==typeof a?b.exports=e(a("backbone")):"function"==typeof define&&define.amd?define(["backbone"],function(a){return e(a||d.Backbone)}):e(Backbone)}(this,function(a){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function c(){return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}function d(a){return a===Object(a)}function e(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}function f(a,b){for(var c in b)a[c]=b[c];return a}function g(a,b){if(null!=a){var c=a[b];return"function"==typeof c?a[b]():c}}return a.LocalStorage=window.Store=function(a,b){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=a,this.serializer=b||{serialize:function(a){return d(a)?JSON.stringify(a):a},deserialize:function(a){return a&&JSON.parse(a)}};var c=this.localStorage().getItem(this.name);this.records=c&&c.split(",")||[]},f(a.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(a){return a.id||0===a.id||(a.id=c(),a.set(a.idAttribute,a.id)),this.localStorage().setItem(this._itemName(a.id),this.serializer.serialize(a)),this.records.push(a.id.toString()),this.save(),this.find(a)},update:function(a){this.localStorage().setItem(this._itemName(a.id),this.serializer.serialize(a));var b=a.id.toString();return e(this.records,b)||(this.records.push(b),this.save()),this.find(a)},find:function(a){return this.serializer.deserialize(this.localStorage().getItem(this._itemName(a.id)))},findAll:function(){for(var a,b,c=[],d=0;d<this.records.length;d++)a=this.records[d],b=this.serializer.deserialize(this.localStorage().getItem(this._itemName(a))),null!=b&&c.push(b);return c},destroy:function(a){this.localStorage().removeItem(this._itemName(a.id));for(var b=a.id.toString(),c=0;c<this.records.length;c++)this.records[c]===b&&this.records.splice(c,1);return this.save(),a},localStorage:function(){return localStorage},_clear:function(){var a=this.localStorage(),b=new RegExp("^"+this.name+"-");a.removeItem(this.name);for(var c in a)b.test(c)&&a.removeItem(c);this.records.length=0},_storageSize:function(){return this.localStorage().length},_itemName:function(a){return this.name+"-"+a}}),a.LocalStorage.sync=window.Store.sync=a.localSync=function(b,c,d){var e,f,h=g(c,"localStorage")||g(c.collection,"localStorage"),i=a.$?a.$.Deferred&&a.$.Deferred():a.Deferred&&a.Deferred();try{switch(b){case"read":e=void 0!=c.id?h.find(c):h.findAll();break;case"create":e=h.create(c);break;case"update":e=h.update(c);break;case"delete":e=h.destroy(c)}}catch(j){f=22===j.code&&0===h._storageSize()?"Private browsing is unsupported":j.message}return e?(d&&d.success&&("0.9.10"===a.VERSION?d.success(c,e,d):d.success(e)),i&&i.resolve(e)):(f=f?f:"Record Not Found",d&&d.error&&("0.9.10"===a.VERSION?d.error(c,f,d):d.error(f)),i&&i.reject(f)),d&&d.complete&&d.complete(e),i&&i.promise()},a.ajaxSync=a.sync,a.getSyncMethod=function(b){return b.localStorage||b.collection&&b.collection.localStorage?a.localSync:a.ajaxSync},a.sync=function(b,c,d){return a.getSyncMethod(c).apply(this,[b,c,d])},a.LocalStorage})},{backbone:4}],4:[function(a,b,c){
//     Backbone may be freely distributed under the MIT license.
!function(b,d){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(a,c,e){b.Backbone=d(b,e,a,c)});else if("undefined"!=typeof c){var e=a("underscore");d(b,c,e)}else b.Backbone=d(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null!=a?this._byId[a]||this._byId[a.id]||this._byId[a.cid]:void 0},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b})},{underscore:5}],5:[function(a,b,c){
//     Underscore may be freely distributed under the MIT license.
(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.6.0";var A=z.each=z.forEach=function(a,b,c){if(null==a)return a;if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return;return a};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,z.property(b))},z.where=function(a,b){return z.filter(a,z.matches(b))},z.findWhere=function(a,b){return z.find(a,z.matches(b))},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-(1/0),e=-(1/0);return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=z.values(a)),a[z.random(a.length-1)]):z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return null==a?z.identity:z.isFunction(a)?a:z.property(a)};z.sortBy=function(a,b,c){return b=D(b),z.pluck(z.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=D(c),A(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};z.groupBy=E(function(a,b,c){z.has(a,b)?a[b].push(c):a[b]=[c]}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null!=a?null==b||c?a[0]:0>b?[]:j.call(a,0,b):void 0},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null!=a?null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0)):void 0},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.partition=function(a,b){var c=[],d=[];return A(a,function(a){(b(a)?c:d).push(a)}),[c,d]},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.contains(b,a)})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===z&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:z.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=z.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=z.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=z.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return z.partial(b,a)},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=function(a){if(!z.isObject(a))return[];if(x)return x(a);var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.constant=function(a){return function(){return a}},z.property=function(a){return function(b){return b[a]}},z.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},z.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null!=a){var c=a[b];return z.isFunction(c)?c.call(a):c}},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return z})}).call(this)},{}],6:[function(a,b,c){"use strict";angular.module("backular",[]),a("./services/models/BaseModel.js"),a("./services/models/BaseCollection.js"),a("./services/Backbone.js"),a("./services/underscore.js"),a("./services/models/Associated.js"),a("./services/models/CORSModel.js"),a("./services/models/CORSAssociatedModel.js"),a("./services/models/CORSCollection.js"),a("./services/models/CleanModel.js"),a("./services/models/ModelQuery.js"),a("./mixins/resolve.js")},{"./mixins/resolve.js":7,"./services/Backbone.js":8,"./services/models/Associated.js":9,"./services/models/BaseCollection.js":10,"./services/models/BaseModel.js":11,"./services/models/CORSAssociatedModel.js":12,"./services/models/CORSCollection.js":13,"./services/models/CORSModel.js":14,"./services/models/CleanModel.js":15,"./services/models/ModelQuery.js":16,"./services/underscore.js":17}],7:[function(a,b,c){"use strict";angular.module("backular").factory("resolveMixin",["_","$q","$rootScope","$injector","$interval",function(a,b,c,d,e){var f=6e5;return{_hasResolveMixin:!0,resolve:function(c){return c=c||{},a.defaults(c,{timeout:this.skipTimeout?null:this.timeout||f,forceFetch:this.forceFetch||!1,skipContextBinding:this.skipContextBinding||!1}),c.skipContextBinding||this._setContextBinding(),!this.fetched||this.loading||c.forceFetch?this.isLoading?this.isLoading.then(function(){return this}.bind(this)):(this._resetNextFetch&&(this._resetNextFetch=!1,c.reset=!0),this.fetch(c).then(function(){return this.fetched=c.timeout?e(function(){this.invalidate(!0)}.bind(this),c.timeout,1):!0,this.expired=!1,this}.bind(this))):b.when(this)},invalidate:function(a,b){e.cancel(this.fetched),this.fetched=!1,this.expired=!!a,b&&(this._resetNextFetch=!0)},_setContextBinding:function(){!this.contextBinding&&d.has("ORG_CONTEXT_SWITCH")&&(this.contextBinding=c.$on(d.get("ORG_CONTEXT_SWITCH").SUCCESS,function(){this.invalidate(!1)}.bind(this)))}}}])},{}],8:[function(a,b,c){"use strict";var d=a("backbone");a("backbone-associations"),a("backbone.localstorage");var e=d.sync,f=d.Model.prototype.save,g=d.Model.prototype.destroy;angular.module("backular").service("Backbone",["$http","$q",function(a,b,c){d.ajax=function(c){return c.method=c.type,a(c).then(function(a){return c.success(a.data),a},function(a){return c.error(a),b.reject(a)})};var h={create:"isCreating",update:"isUpdating",patch:"isPatching","delete":"isDeleting",read:"isLoading"},i=["withCredentials","withWebRTC"];return d.sync=function(a,b,d){var f=h[a];return i.forEach(function(a){b[a]===c||!d||a in d||(d[a]=b[a])}),b[f]=e.apply(this,arguments)["finally"](function(){b[f]=c})},d.Model.prototype.save=function(){var a=f.apply(this,arguments);return a===!1?b.reject(a):a},d.Model.prototype.destroy=function(){var a=g.apply(this,arguments);return a===!1?b.reject(a):a},d.Deferred=function(){var a=b.defer();return{resolve:a.resolve,reject:a.reject,promise:function(){return a.promise}}},d}])},{backbone:4,"backbone-associations":2,"backbone.localstorage":3}],9:[function(a,b,c){"use strict";angular.module("backular").factory("AssociatedModel",["Backbone",function(a){return a.AssociatedModel.extend()}])},{}],10:[function(a,b,c){"use strict";angular.module("backular").factory("BaseCollection",["Backbone",function(a){return a.Collection}])},{}],11:[function(a,b,c){"use strict";angular.module("backular").factory("BaseModel",["Backbone",function(a){return a.Model}])},{}],12:[function(a,b,c){"use strict";angular.module("backular").factory("CORSAssociatedModel",["AssociatedModel",function(a){return a.extend({withCredentials:!0})}])},{}],13:[function(a,b,c){"use strict";angular.module("backular").factory("CORSCollection",["BaseCollection",function(a){return a.extend({withCredentials:!0})}])},{}],14:[function(a,b,c){"use strict";angular.module("backular").factory("CORSModel",["BaseModel",function(a){return a.extend({withCredentials:!0})}])},{}],15:[function(a,b,c){"use strict";angular.module("backular").factory("CleanModel",["CORSModel",function(a){var b=a.extend({temporary:{},cachedJson:null,isModified:function(){return this.isUpdating||this.isPatching||this.isCreating||this.isDeleting||!1},save:function(b,c){if(c=c||{},b=b||this.temporary,c.wait!==!1&&(c.wait=!0),c.success){var d=c.success;c.success=function(){d.apply(this,arguments),this.refreshTemporaryAndInvalidateCachedJson_()}.bind(this)}else c.success=this.refreshTemporaryAndInvalidateCachedJson_.bind(this);var e=this.saveMapper?this.saveMapper(b):b;return c.data=JSON.stringify(e),a.prototype.save.call(this,b,c)},set:function(b,c){var d=a.prototype.set.call(this,b,c);return this.refreshTemporaryAndInvalidateCachedJson_(),d},refreshTemporaryAndInvalidateCachedJson_:function(){this.temporary=angular.copy(this.attributes),this.cachedJson=null},discardTemporaryChanges:function(){this.refreshTemporaryAndInvalidateCachedJson_()},toJSON:function(){return null===this.cachedJson&&(this.cachedJson=a.prototype.toJSON.call(this)),this.cachedJson},destroy:function(b){return b=b||{},void 0===b.wait&&(b.wait=!0),a.prototype.destroy.call(this,b)}});return b}])},{}],16:[function(a,b,c){"use strict";angular.module("backular").factory("ModelQuery",["_","Backbone",function(a,b){function c(){return this.input=null,a.extend(this,b.Events),this.resetQuery=function(){this.input=null},this.buildQueryString=function(b,c,d){return d=d||this.rules,c=c="",a.each(b,function(b,e){var f=d[e]||{},g="";f&&a.isFunction(f)&&(b=f(b)),a.isArray(b)&&b.length?g="|"+b.join("||")+"|":a.isNumber(b)||a.isString(b)?g="|"+b+"|":a.isObjectLiteral(b)&&(g=this.buildQueryString(b,c,f||{})),c+=g},this),c},this.rules={},this.addRules=function(b,c){c=c||this.rules,a.isObjectLiteral(b)&&a.each(b,function(b,d,e){a.isObjectLiteral(e)&&(a.isUndefined(c[d])?c[d]=b:this.addRules(b,c[d]))},this)},this.blackListedKeys=[],this.filters=[],this.addFilter=function(b,c){var d;if(c=c||{},a.isObjectLiteral(b)){if(!b.id||!b.test||!a.isFunction(b.test))throw new Error("Filters require an ID and a test function");a.isNumber(c.priorityPosition)?this.filters.splice(c.priorityPosition,0,b):c.overwrite===!0?(d=a.findIndex(this.filters,a.matches({id:b.id})),-1!==d?this.filters[d]=b:this.filters.push(b)):this.filters.push(b),this.trigger("add:filter",{id:c.id})}},this.removeFilter=function(b){var c=a.findIndex(this.filters,a.matches({id:b}));-1!==c&&this.filters.splice(c,1),this.trigger("remove:filter",{id:b})},this.removeAllFilters=function(){this.filters=[],this.trigger("remove:filter")},this.query=function(b){var c,d,e,f=a.flatten([b.toJSON(),this.blackListedKeys]),g=a.omit.apply(null,f);if(this.filters.length)for(d=0,e=this.filters.length;e>d;d++)if(c=this.filters[d].test(b),c===!1)return!1;return""===this.input||null===this.input||a.isUndefined(this.input)?!0:new RegExp(this.input,"i").test(this.buildQueryString(g))},this}return a.mixin({findIndex:function(b,c,d){var e=-1;return a.any(b,function(a,b,f){return c.call(d,a,b,f)?(e=b,!0):void 0}),e},isObjectLiteral:function(b){return!a.isNull(b)&&!a.isUndefined(b)&&b.constructor===Object}}),c}])},{}],17:[function(a,b,c){"use strict";angular.module("backular").service("_",[function(){return a("underscore")}])},{underscore:5}],18:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":20,dup:1}],19:[function(a,b,c){"use strict";angular.module("busy").directive("busyToggle",function(){return{scope:!0,transclude:!0,templateUrl:"partials/busyToggle.html",link:function(a,b,c){var d=-1!==["BUTTON","INPUT"].indexOf(b[0].tagName);c.$addClass("busyToggle"),a.$watch(c.busyToggle,function(b){a.busySpinnerActive=!!b,d&&c.$set("disabled",a.busySpinnerActive)}),a.$watchCollection(c.busyToggleSpinnerClasses,function(b){a.busySpinnerClasses=b||["spinner","spinner--half"]})}}})},{}],20:[function(a,b,c){"use strict";angular.module("busy",[]),a("./templates"),a("./directives/toggle.js")},{"./directives/toggle.js":19,"./templates":21}],21:[function(a,b,c){angular.module("busy").run(["$templateCache",function(a){"use strict";a.put("partials/busyToggle.html",'<div ng-hide="busySpinnerActive" ng-transclude="ng-transclude" class="busyToggle__body"></div><div ng-if="busySpinnerActive" class="busyToggle__spinner"><div ng-class="busySpinnerClasses"></div></div>')}])},{}],22:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":24,dup:1}],23:[function(a,b,c){"use strict";angular.module("clickOff").directive("onOutsideElementClick",["$document",function(a){return{link:function(b,c,d){var e=!1;c[0].addEventListener("click",function(){e=!0},!0),a.on("click",function(a){e||b.$apply(function(){b.$eval(d.onOutsideElementClick)}),e=!1})}}}])},{}],24:[function(a,b,c){"use strict";angular.module("clickOff",[]),a("./directives/onOutsideElementClick.js")},{"./directives/onOutsideElementClick.js":23}],25:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":32,dup:1}],26:[function(a,b,c){"use strict";angular.module("collection-view").directive("collectionViewParentClick",["$parse",function(a){return{restrict:"A",scope:{collectionViewParentClick:"&"},link:function(a,b,c){if(-1===c.collectionViewParentClick.indexOf("(itemId)"))throw new TypeError("Parameter itemId is required in expression");b.bind("click",function(b){var c=angular.element(b.target).parents("tr").attr("data-id");a.collectionViewParentClick({itemId:c})})}}}])},{}],27:[function(a,b,c){"use strict";angular.module("collection-view").directive("collectionViewRepeat",["$parse","$timeout",function(a,b){var c=200;return{terminal:!0,priority:1e3,transclude:"element",link:function(d,e,f,g,h){var i=f.collectionViewRepeat,j=/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:,\s*startFrom\s+([\s\S]+?))?(?:,\s*limitTo\s+([\s\S]+?))?(?:,\s*selectBy\s+([\s\S]+?))?\s*$/,k=i.match(j),l=k[1],m=k[2],n=k[3]||null,o=k[4]||null,p=k[5]||null,q=f.collectionViewRepeatWatch||null,r=f.collectionViewRepeatWatchAll||null,s=[],t=function(b){for(var f,g=b[0]||[],i=b[1]||0,j=b[2]||c,k=[],m=e,n=function(a){m.after(a)},o=i;i+j>o&&o<g.length;o++)f={},f.scope=d.$new(),f.scope.$index=o,f.scope[l]=g[o],f.element=h(f.scope,n),m=f.element,k.push(f);s.forEach(function(a){a.element.remove(),a.scope.$destroy()}),s=k,null!==p&&w(a(p)(d))},u=[m,n,o,q];if(r){var v=r.split(";").map(function(a){return a.trim()});Array.prototype.push.apply(u,v)}d.$watchGroup(u,t);var w=function(a){var c=e.parent();b(function(){angular.element(c[0].querySelectorAll(".is-row-selected")).removeClass("is-row-selected"),angular.element(c[0].querySelectorAll('[data-id="'+a+'"]')).addClass("is-row-selected")},0)};null!==p&&d.$watch(p,w)}}}])},{}],28:[function(a,b,c){"use strict";var d="collection-view-sort",e="collection-view-sort-by";angular.module("collection-view").directive("collectionViewSort",["$parse",function(a){return{priority:1e3,scope:!0,compile:function(b){var c=[].slice.apply(b[0].querySelectorAll("["+e+"]"));if(c.length<1)throw new Error("*["+d+"] must contain at least one *["+e+"].");return c.forEach(function(a){var b=a.getAttribute(e);if(!b)throw new Error(e+" attribute cannot be empty.");angular.element(a).attr("ng-class",'{"is-column-sorted": collectionViewSortHandler.sortBy === \''+b+'\', "is-column-sortable": true}'),angular.element(a).attr("ng-click","collectionViewSortSetSortBy('"+b+"')"),angular.element(a).append("<span ng-class=\"collectionViewSortGetClasses('"+b+"')\" ></span>")}),function(b,c,d){b.collectionViewSortRefreshing=null,b.collectionViewSortHandler=a(d.collectionViewSort)(b),b.collectionViewSortSetSortBy=function(a){b.collectionViewSortRefreshing=a,b.collectionViewSortHandler.setSortBy(a),b.collectionViewSortHandler.asyncRefresh().then(function(){b.collectionViewSortRefreshing=null})},b.collectionViewSortGetClasses=function(a){var c=b.collectionViewSortHandler.sortBy,d=b.collectionViewSortHandler.sortReverse[a],e="appTable__sortArrow icon ubnt-icon--arrow-up-4",f="appTable__sortArrow icon ubnt-icon--arrow-down-4",g="appTable__sortArrow icon ubnt-icon--arrow-up-4",h="appTable__sortArrow icon ubnt-icon--arrow-down-4",i="appTable__sortSpinner appTable__sortArrow icon ubnt-icon--sync",j={};return b.collectionViewSortRefreshing===a?(j[i]=!0,j):(a===c?d?j[h]=!0:j[g]=!0:d?j[f]=!0:j[e]=!0,j)}}}}}])},{}],29:[function(a,b,c){"use strict";angular.module("collection-view").directive("relink",[function(){return{transclude:"element",restrict:"A",priority:2e3,link:function(a,b,c,d,e){var f=b,g=null,h=function(a){f.after(a)},i=function(){var b=a.$new(),c=e(b,h);g&&g.$destroy(),g=b,f.remove(),f=c};if(!c.relink)throw new Error("Relink attribute cannot be empty.");a.$watchGroup(c.relink.split(";"),i)}}}])},{}],30:[function(a,b,c){"use strict";angular.module("collection-view").factory("BaseModelFilter",[function(){function a(){this.matchAnyToken=!1}return a.prototype.testModelAttributes=function(a,b,c){return c[this.matchAnyToken?"some":"every"](function(c){return b.some(function(b){var d=angular.isFunction(b)?b(a):a.get(b);return this._match(d,c)}.bind(this))}.bind(this))},a.prototype.testPhrase=function(a,b){return b[this.matchAnyToken?"some":"every"](function(b){return this._match(a,b)}.bind(this))},a.prototype._match=function(a,b){return angular.isNumber(a)?a.toString().indexOf(b)>-1:a&&a.toLowerCase().indexOf(b.toLowerCase())>-1},a}])},{}],31:[function(a,b,c){"use strict";angular.module("collection-view").factory("CollectionViewSortHandler",[function(){var a=function(){this.sortBy=null,this.sortReverse={}};return a.prototype.setSortBy=function(a,b){void 0!==b?this.sortReverse[a]=b:(void 0===this.sortReverse[a]&&(this.sortReverse[a]=!1),this.sortBy===a&&(this.sortReverse[a]=!this.sortReverse[a])),this.sortBy=a},a}])},{}],32:[function(a,b,c){"use strict";angular.module("collection-view",[]),a("./directives/collectionViewParentClick"),a("./directives/collectionViewRepeat"),a("./directives/collectionViewSort"),a("./directives/relink"),a("./filters/BaseModelFilter"),a("./handlers/CollectionViewSortHandler"),a("./services/collectionViewComparator"),a("./views/CollectionView")},{"./directives/collectionViewParentClick":26,"./directives/collectionViewRepeat":27,"./directives/collectionViewSort":28,"./directives/relink":29,"./filters/BaseModelFilter":30,"./handlers/CollectionViewSortHandler":31,"./services/collectionViewComparator":33,"./views/CollectionView":34}],33:[function(a,b,c){"use strict";function d(a){return void 0===a||null===a?"":a}angular.module("collection-view").factory("collectionViewComparator",[function(){var a=function(a,b){/^-?\d+$/.test(a)&&/^-?\d+$/.test(b)?(a=parseInt(a,10),b=parseInt(b,10)):angular.isString(a)&&angular.isString(b)&&(a=a.toLowerCase(),b=b.toLowerCase());var c=d(a),e=d(b);return""!==c&&""!==e||c===e?e>c?-1:c>e?1:0:""===c?-1:1};return a}])},{}],34:[function(a,b,c){"use strict";angular.module("collection-view").factory("CollectionView",["$q","$timeout","CollectionViewSortHandler","collectionViewComparator",function(a,b,c,d){var e=200,f=function(a,b,c){return d(a.get(c),b.get(c))},g=function(a,b){return d(a.get("id"),b.get("id"))},h="change add remove reset",i=function(a,b){b=b||{},this.listenTo_=angular.isDefined(b.listenTo)?b.listenTo:h,this.collectionChangeCallback_=this.refresh.bind(this),this.collection_=a,this.view_=this.getCollectionModels_(),this.refreshing_=null,this.dirty_=!1,this.refreshLock_=null,this.refreshDebounce_=angular.isDefined(b.refreshDebounce)?b.refreshDebounce:e,this.filters=[],this.attrsComparators={},this.defaultComparator=f,this.fallbackComparator=g,this.addCallbackOnCollectionChange_(),c.call(this)};return i.Filter,i.Comparator,i.AttrsComparators,i.prototype.setCollection=function(a){this.removeCallbackOnCollectionChange_(),this.collection_=a,this.addCallbackOnCollectionChange_(),this.dirty_=!0},i.prototype.getModels=function(){return this.view_},i.prototype.asyncRefresh=function(){return this.refreshing_||(this.refreshing_=a(function(a){b(function(){this.refresh(),this.refreshing_=null,a(this.view)}.bind(this),0)}.bind(this))),this.refreshing_},i.prototype.refresh=function(){var a=null===this.refreshDebounce_;if(a)this.refreshView_();else{var c=this.refreshLock_;c?this.dirty_=!0:(this.refreshView_(),this.refreshLock_=b(function(){this.refreshLock_=null,this.dirty_&&this.refreshView_()}.bind(this),this.refreshDebounce_))}},i.prototype.refreshView_=function(){this.view_=this.getSorted_(this.getFiltered_(this.getCollectionModels_())),this.dirty_=!1},i.prototype.setComparators=function(a){this.attrsComparators=a,this.dirty_=!0},i.prototype.setSortBy=function(a,b){c.prototype.setSortBy.call(this,a,b),this.dirty_=!0},i.prototype.setFilters=function(a){this.filters=a,this.dirty_=!0},i.prototype.isRefreshing=function(){return!!this.refreshing_},i.prototype.isDirty=function(){return!this.refreshing_&&this.dirty_},i.prototype.isEmpty=function(){return 0===this.getCollectionModels_().length},i.prototype.isNoResults=function(){return 0===this.getModels().length&&this.getCollectionModels_().length>0},i.prototype.dispose=function(){this.removeCallbackOnCollectionChange_()},i.prototype.addCallbackOnCollectionChange_=function(){this.collection_&&this.collection_.bind(this.listenTo_,this.collectionChangeCallback_)},i.prototype.removeCallbackOnCollectionChange_=function(){this.collection_&&this.collection_.unbind(this.listenTo_,this.collectionChangeCallback_)},i.prototype.getCollectionModels_=function(){return this.collection_&&this.collection_.models?this.collection_.models.slice():[]},i.prototype.getFiltered_=function(a){return this.filters.forEach(function(b){a=a.filter(b)}),a},i.prototype.getSorted_=function(a){var b=this.attrsComparators[this.sortBy]||this.defaultComparator;return a.sort(function(a,c){var d=b(a,c,this.sortBy);
return 0===d&&(d=this.fallbackComparator(a,c)),this.sortReverse[this.sortBy]?-1*d:d}.bind(this))},i}])},{}],35:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":38,dup:1}],36:[function(a,b,c){a("./src/scripts/resolve")},{"./src/scripts/resolve":40}],37:[function(a,b,c){"use strict";angular.module("context.resolve").config(["$provide",function(a){a.decorator("resolveMixin",["$delegate","$rootScope","contextSwitchStates",function(a,b,c){return a._setContextBinding=function(){!this.contextBinding&&c.getSuccess()&&(this.contextBinding=b.$on(c.getSuccess(),function(){this.invalidate(!1,!0)}.bind(this)))},a}])}])},{}],38:[function(a,b,c){"use strict";angular.module("context",[]),a("./templates"),a("./providers/contextSwitchStatesProvider.js")},{"./providers/contextSwitchStatesProvider.js":39,"./templates":41}],39:[function(a,b,c){"use strict";angular.module("context").provider("contextSwitchStates",[function(){var a={};this.setStart=function(b){return a.START=b,this},this.setSuccess=function(b){return a.SUCCESS=b,this},this.setFail=function(b){return a.FAIL=b,this},this.$get=function(){return{getStart:function(){return a.START},getSuccess:function(){return a.SUCCESS},getFail:function(){return a.FAIL}}}}])},{}],40:[function(a,b,c){"use strict";a("backular"),angular.module("context.resolve",["backular"]),a("./decorators/resolveMixinContextBinding.js")},{"./decorators/resolveMixinContextBinding.js":37,backular:1}],41:[function(a,b,c){},{}],42:[function(a,b,c){a("./src/scripts/dialog.js")},{"./src/scripts/dialog.js":44}],43:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":48,dup:1}],44:[function(a,b,c){"use strict";angular.module("frame.dialog",[]),a("./directives/dialog.js")},{"./directives/dialog.js":46}],45:[function(a,b,c){"use strict";angular.module("frame").directive("frameClose",["frame",function(a){return{link:function(b,c,d){c.on("click",function(c){b.$apply(function(){a.close(d.frameClose)})})}}}]),angular.module("frame").directive("frameClosePreventBubble",["frame",function(a){return{link:function(b,c,d){c.on("click",function(e){e.target===c[0]&&b.$apply(function(){a.close(d.frameClosePreventBubble)})})}}}]),angular.module("frame").directive("frameCloseEnableEsc",["$document","frame",function(a,b){var c=27;return{link:function(d,e,f){function g(a){a.keyCode===c&&d.$apply(function(){b.close(f.frameCloseEnableEsc)})}a.on("keydown",g),d.$on("$destroy",function(){a.off("keydown",g)})}}}])},{}],46:[function(a,b,c){"use strict";angular.module("frame.dialog").config(["frameProvider",function(a){a.define("dialog",["layout","window","placeholder","content"],["$q","elements",function(a,b){var c,d;return{onShowStart:function(d){return b.content&&b.content.isDisplayed()?void b.content.leave(!0):(c=a.defer(),void b.layout.enter().then(function(){b.window.enter(),b.placeholder.enter(),c.resolve()}))},onShowSuccess:function(a){c.promise.then(function(){b.content.enter(!0).then(function(){d=a(function(a){return b.content.manipulate(function(b){return b.html(a),b})}),b.placeholder.isDisplayed()&&b.placeholder.leave(!0)})})},onClose:function(){d&&(d(),d=null),b.window.leave().then(function(){return b.layout.leave()})}}}])}])},{}],47:[function(a,b,c){"use strict";function d(a,b,c,d,e){return function(f){var g={},h=b.$eval(c[a+"Data"]),i=b.$eval(c[a+"Options"],{$event:f})||{};e&&(i.event=i.event||f),f.preventDefault(),angular.isObject(h)&&angular.forEach(h,function(a,b){g[b]=function(){return a}}),d.show(c[a],g,i).then(function(d){b.$eval(c[a+"Resolve"],{resolveValue:d})},function(d){b.$eval(c[a+"Reject"],{rejectReason:d})})}}angular.module("frame").directive("frameShow",["frame",function(a){return{link:function(b,c,e){e.hasOwnProperty("frameShowOnHover")?(c.on("mouseenter",d("frameShow",b,e,a,!0)),c.on("mouseleave",function(c){b.$apply(function(){a.close(e.frameShow)})})):c.on("click",d("frameShow",b,e,a))}}}])},{}],48:[function(a,b,c){"use strict";angular.module("frame",[]),a("./services/models/FrameLayoutElement.js"),a("./providers/frameProvider.js"),a("./directives/close.js"),a("./directives/show.js")},{"./directives/close.js":45,"./directives/show.js":47,"./providers/frameProvider.js":49,"./services/models/FrameLayoutElement.js":50}],49:[function(a,b,c){"use strict";var d=a("../utils/capitalize"),e=a("../utils/makeElementDDO"),f=a("../utils/makeLayoutController"),g=a("../utils/makeLayoutDDO");angular.module("frame").provider("frame",["$compileProvider",function(a){this.define=function(b,c,h){var i=b+"Layout";angular.forEach(c,function(c){var f=b+d(c),g=e(i,f,c);a.directive(f,g)}),a.directive(i,g(f(i),h))};var b={},c={};this.when=function(a,c){return b[a]=c,b[a].id=a,this},this.$get=["$rootScope","$injector","$q","$templateCache","$document",function(a,d,e,f,g){return{show:function(g,h,i){var j=b[g];if(!j)throw new Error(["show(): could not find anything registered for",g].join(" "));var k=c[j.layout],l=e.defer(),m=e.defer();try{k.localsDeferred.reject()}catch(n){}if(k.showing=g,k.resolve=l.resolve.bind(l),k.reject=l.reject.bind(l),k.localsDeferred=m,j.template=j.template||f.get(j.templateUrl),!j.template)throw new Error(["show():","frame component couldn't find the template for","'"+j.templateUrl+"'","in $templateCache. Are you pre-caching your templates?"].join(" "));return a.$broadcast("$frameShowStart:"+j.layout,i),m.promise.then(function(b){a.$broadcast("$frameShowSuccess:"+j.layout,j,b)}),e.when().then(function(){return j.controller?(angular.forEach(h,function(a,b){h[b]=angular.isString(a)?d.get(a):d.invoke(a)}),e.all(h)):void 0}).then(function(a){m.resolve(a)}),l.promise["finally"](function(){this.close(j.layout)}.bind(this))},close:function(c){var d,e,f=b[c];d=f&&f.layout?f.layout:c,e=this.getLayout(d),a.$broadcast("$frameClose:"+d),a.$broadcast("$frameClose:"+e.showing),e.reset()},closeAll:function(){angular.forEach(c,function(a,b){a.showing&&this.close(b)},this)},getLayout:function(a){return c[a]},registerLayout:function(a){if("undefined"!=typeof c[a])throw new Error(["registerLayout():","frame layout","'"+a+"'"," has already been registered"].join(" "));c[a]={reset:function(){this.showing=null,this.resolve=null,this.reject=null}}},unregisterLayout:function(a){delete c[a]}}}]}])},{"../utils/capitalize":51,"../utils/makeElementDDO":52,"../utils/makeLayoutController":53,"../utils/makeLayoutDDO":54}],50:[function(a,b,c){"use strict";angular.module("frame").factory("FrameLayoutElement",["$q","$animate",function(a,b){function c(a,b,c,d){if(!a)throw new Error(["FrameLayoutElement():","You must provide a name."].join(" "));if(!b)throw new Error(["FrameLayoutElement():","You must provide a scope."].join(" "));if(!c)throw new Error(["FrameLayoutElement():","You must provide an element."].join(" "));if(!d)throw new Error(["FrameLayoutElement():","You must provide a transclude function."].join(" "));this.name=a,this.scope=b,this.element=c,this.transclude=d}return c.prototype._convertToApplyPromise=function(b){var c=a.defer();return b.then(c.resolve.bind(c),c.reject.bind(c)),c.promise},c.prototype._getImmediatelyResolvingPromise=function(){return a.when()},c.prototype.enter=function(a){var c,d=this;return this.childscope=this.scope.$new(),this.clone=this.transclude(this.childscope,function(e){return a?(d.element.after(e),void(c=d._getImmediatelyResolvingPromise())):void(c=d._convertToApplyPromise(b.enter(e,null,d.element)))}),c},c.prototype.addClass=function(a){if(!this.clone)throw new Error(["addClass():","You must have the element `enter` before adding classes","Element was:",this.name].join(" "));return this._convertToApplyPromise(b.addClass(this.clone,a))},c.prototype.removeClass=function(a){if(!this.clone)throw new Error(["removeClass():","You must have the element `enter` before removing classes","Element was:",this.name].join(" "));return this._convertToApplyPromise(b.removeClass(this.clone,a))},c.prototype.leave=function(a){if(!this.clone)throw new Error(["leave():","You must have the element `enter` before removing the element.","Element was:",this.name].join(" "));var c=this.clone;return this.childscope.$destroy(),this.clone=null,a?(c.remove(),this._getImmediatelyResolvingPromise()):this._convertToApplyPromise(b.leave(c))},c.prototype.manipulate=function(a){return this.clone?a(this.clone):void 0},c.prototype.isDisplayed=function(){return!!this.clone},c}])},{}],51:[function(a,b,c){"use strict";b.exports=function(a){return a.charAt(0).toUpperCase()+a.slice(1)}},{}],52:[function(a,b,c){"use strict";function d(a,b,c){function d(d){return{transclude:"element",terminal:!0,priority:400,require:["?"+a,"?^"+a],link:function(e,f,g,h,i){var j=h[0]||h[1];if(!j)throw new Error([b+":","could not find controller for layout",a,"."].join(" "));var k=new d(c,e,f,i);try{j.registerElement(k)}catch(l){}e.$on("$destroy",function(){try{j.unregisterElement(k)}catch(a){}})}}}return d.$inject=["FrameLayoutElement"],d}b.exports=d},{}],53:[function(a,b,c){"use strict";function d(a,b,c){this.$compile=a,this.$rootScope=b,this.$controller=c,this.elements={}}function e(a){function b(b,c,e,f,g){d.call(this,e,f,g),this.layoutId=c[a],b.registerLayout(this.layoutId)}return b.prototype=Object.create(d.prototype),b.prototype.constructor=b,b.$inject=["frame","$attrs","$compile","$rootScope","$controller"],b}d.prototype.registerElement=function(a){this.elements[a.name]=a},d.prototype.unregisterElement=function(a){delete this.elements[a.name]},d.prototype.makeCompileContentFn=function(a,b,c){var d=this.$compile,e=this.$rootScope,f=this.$controller;return function(a){var g,h,i,j=a(b.template);return c=c||{},c.$scope=i=e.$new(),b.controller&&(h=f(b.controller,c),b.controllerAs&&(i[b.controllerAs]=h)),g=d(j.contents()),g(i),function(){i.$destroy()}}},b.exports=e},{}],54:[function(a,b,c){"use strict";function d(a,b,c){"function"==typeof a[b]&&a[b].apply(a,c)}function e(a,b){function c(c,e){return{priority:1e3,controller:a,link:function(a,f,g,h,i){var j=e.invoke(b,null,{elements:h.elements});a.$on("$frameShowStart:"+h.layoutId,function(a,b){d(j,"onShowStart",[b])}),a.$on("$frameShowSuccess:"+h.layoutId,function(a,b,c){var e=[h.makeCompileContentFn(a,b,c)];d(j,"onShowSuccess",e)}),a.$on("$frameClose:"+h.layoutId,function(a,b){d(j,"onClose",[])}),a.$on("$destroy",function(){d(j,"stop",[a,f,g]),c.unregisterLayout(h.layoutId)}),d(j,"start",[a,f,g])}}}return c.$inject=["frame","$injector"],c}b.exports=e},{}],55:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":59,dup:1}],56:[function(a,b,c){"use strict";angular.module("hey").value("HEY_DEFAULTS",{LEVEL:"neutral",DELAY:5e3,ERROR_DELAY:1e4})},{}],57:[function(a,b,c){"use strict";angular.module("hey").constant("HEY_LEVEL",{NEUTRAL:"neutral",PRIMARY:"primary",SUCCESS:"success",WARNING:"warning",ERROR:"danger"})},{}],58:[function(a,b,c){"use strict";angular.module("hey").directive("heyToaster",["heyToasts","$interval","$animate","HEY_LEVEL",function(a,b,c,d){return{scope:!0,transclude:!0,link:function(e,f,g,h,i){e.$watch(function(){for(;!a.isEmpty();){var g=a.shift(),h=e.$new();h.toast=angular.copy(g),h.toast.level=h.toast.level||d.NEUTRAL,i(h,function(a){var d=h;h.toast.close=function(){c.leave(a),d.$destroy()},g.delay&&b(h.toast.close,g.delay,1),c.enter(a,f)})}})}}}])},{}],59:[function(a,b,c){"use strict";angular.module("hey",[]),a("./templates"),a("./services/toasts.js"),a("./directives/toaster.js"),a("./config/heyDefaults.js"),a("./config/heyLevel.js")},{"./config/heyDefaults.js":56,"./config/heyLevel.js":57,"./directives/toaster.js":58,"./services/toasts.js":60,"./templates":61}],60:[function(a,b,c){"use strict";angular.module("hey").factory("heyToasts",["HEY_LEVEL","HEY_DEFAULTS",function(a,b){var c=function(){this.toasts=[]};return c.prototype.push=function(a){Array.prototype.push.apply(this.toasts,arguments)},c.prototype.shift=function(){return this.toasts.shift()},c.prototype.isEmpty=function(){return 0===this.toasts.length},c.prototype.pushPrimary=function(b,c){this.pushToast(b,a.PRIMARY,c)},c.prototype.pushSuccess=function(b,c){this.pushToast(b,a.SUCCESS,c)},c.prototype.pushError=function(c,d){var e=d||b.ERROR_DELAY;this.pushToast(c,a.ERROR,e)},c.prototype.pushWarning=function(b,c){this.pushToast(b,a.WARNING,c)},c.prototype.pushToast=function(a,c,d){var e=c||b.LEVEL,f=d;void 0!==f&&null!==f||(f=b.DELAY),this.toasts.push({message:a,level:e,delay:f})},new c}])},{}],61:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],62:[function(a,b,c){/*!
 * jsonformatter
 * 
 * Version: 0.5.0 - 2016-02-23T15:49:51.235Z
 * License: MIT
 */
"use strict";angular.module("jsonFormatter",["RecursionHelper"]).provider("JSONFormatterConfig",function(){var a=!1,b=100,c=5;return{get hoverPreviewEnabled(){return a},set hoverPreviewEnabled(b){a=!!b},get hoverPreviewArrayCount(){return b},set hoverPreviewArrayCount(a){b=parseInt(a,10)},get hoverPreviewFieldCount(){return c},set hoverPreviewFieldCount(a){c=parseInt(a,10)},$get:function(){return{hoverPreviewEnabled:a,hoverPreviewArrayCount:b,hoverPreviewFieldCount:c}}}}).directive("jsonFormatter",["RecursionHelper","JSONFormatterConfig",function(a,b){function c(a){return a.replace('"','"')}function d(a){if(void 0===a)return"";if(null===a)return"Object";if("object"==typeof a&&!a.constructor)return"Object";var b=/function (.{1,})\(/,c=b.exec(a.constructor.toString());return c&&c.length>1?c[1]:""}function e(a){return null===a?"null":typeof a}function f(a,b){var d=e(a);return"null"===d||"undefined"===d?d:("string"===d&&(b='"'+c(b)+'"'),"function"===d?a.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}":b)}function g(a){var b="";return angular.isObject(a)?(b=d(a),angular.isArray(a)&&(b+="["+a.length+"]")):b=f(a,a),b}function h(a){a.isArray=function(){return angular.isArray(a.json)},a.isObject=function(){return angular.isObject(a.json)},a.getKeys=function(){return a.isObject()?Object.keys(a.json).map(function(a){return""===a?'""':a}):void 0},a.type=e(a.json),a.hasKey="undefined"!=typeof a.key,a.getConstructorName=function(){return d(a.json)},"string"===a.type&&("Invalid Date"!==new Date(a.json).toString()&&(a.isDate=!0),0===a.json.indexOf("http")&&(a.isUrl=!0)),a.isEmptyObject=function(){return a.getKeys()&&!a.getKeys().length&&a.isOpen&&!a.isArray()},a.isOpen=!!a.open,a.toggleOpen=function(){a.isOpen=!a.isOpen},a.childrenOpen=function(){return a.open>1?a.open-1:0},a.openLink=function(b){b&&(window.location.href=a.json)},a.parseValue=function(b){return f(a.json,b)},a.showThumbnail=function(){return!!b.hoverPreviewEnabled&&a.isObject()&&!a.isOpen},a.getThumbnail=function(){if(a.isArray())return a.json.length>b.hoverPreviewArrayCount?"Array["+a.json.length+"]":"["+a.json.map(g).join(", ")+"]";var c=a.getKeys(),d=c.slice(0,b.hoverPreviewFieldCount),e=d.map(function(b){return b+":"+g(a.json[b])}),f=c.length>=5?"…":"";return"{"+e.join(", ")+f+"}"}}return{templateUrl:"json-formatter.html",restrict:"E",replace:!0,scope:{json:"=",key:"=",open:"="},compile:function(b){return a.compile(b,h)}}}]),"object"==typeof b&&(b.exports="jsonFormatter"),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(a){return{compile:function(b,c){angular.isFunction(c)&&(c={post:c});var d,e=b.contents().remove();return{pre:c&&c.pre?c.pre:null,post:function(b,f){d||(d=a(e)),d(b,function(a){f.append(a)}),c&&c.post&&c.post.apply(null,arguments)}}}}}]),angular.module("jsonFormatter").run(["$templateCache",function(a){a.put("json-formatter.html",'<div ng-init="isOpen = open && open > 0" class="json-formatter-row"><a ng-click="toggleOpen()"><span class="toggler {{isOpen ? \'open\' : \'\'}}" ng-if="isObject()"></span> <span class="key" ng-if="hasKey"><span class="key-text">{{key}}</span><span class="colon">:</span></span> <span class="value"><span ng-if="isObject()"><span class="constructor-name">{{getConstructorName(json)}}</span> <span ng-if="isArray()"><span class="bracket">[</span><span class="number">{{json.length}}</span><span class="bracket">]</span></span></span> <span ng-if="!isObject()" ng-click="openLink(isUrl)" class="{{type}}" ng-class="{date: isDate, url: isUrl}">{{parseValue(json)}}</span></span> <span ng-if="showThumbnail()" class="thumbnail-text">{{getThumbnail()}}</span></a><div class="children" ng-if="getKeys().length && isOpen"><json-formatter ng-repeat="key in getKeys() track by $index" json="json[key]" key="key" open="childrenOpen()"></json-formatter></div><div class="children empty object" ng-if="isEmptyObject()"></div><div class="children empty array" ng-if="getKeys() && !getKeys().length && isOpen && isArray()"></div></div>')}])},{}],63:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":65,dup:1}],64:[function(a,b,c){"use strict";angular.module("modelDivergence").directive("ngModelMaster",[function(){return{require:"ngModel",link:function(a,b,c,d){function e(a){return d.$setValidity("divergent",!d.hasDiverged),a}c.ngModelMaster&&(a.$watch(c.ngModelMaster,function(a){d.hasDiverged=!angular.equals(d.$modelValue,a),d.$viewValueMaster=a,e(d.$viewValue)}),d.$parsers.push(e),d.$formatters.push(e),d.resolveDivergence=function(){this.hasDiverged=!1,this._setFormattedViewValue(this.$viewValueMaster),this.$setPristine(),this.$render(),this.$validate()}.bind(d),d.ignoreDivergence=function(){this.hasDiverged=!1,this.$setPristine(),e(this.$viewValue)}.bind(d),a.$eval(c.ngModelMasterCleanup)&&a.$on("$destroy",function(){d.resolveDivergence()}),d._setFormattedViewValue=function(a){for(var b=d.$formatters,c=b.length,e=a;c--;)e=b[c](e);d.$viewValue!==e&&d.$setViewValue(e)})}}}])},{}],65:[function(a,b,c){"use strict";angular.module("modelDivergence",[]),a("./templates"),a("./directives/ngModelMaster.js"),a("./services/modelDivergence.js")},{"./directives/ngModelMaster.js":64,"./services/modelDivergence.js":66,"./templates":67}],66:[function(a,b,c){"use strict";angular.module("modelDivergence").service("modelDivergence",[function(){this.resolveDivergence=function(a){a.$error.divergent&&angular.forEach(a.$error.divergent.slice(0),function(a){a.resolveDivergence()})},this.ignoreDivergence=function(a){a.$error.divergent&&angular.forEach(a.$error.divergent.slice(0),function(a){a.ignoreDivergence()})}}])},{}],67:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],68:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":71,dup:1}],69:[function(a,b,c){"use strict";angular.module("ng-currency").constant("CURRENCY_MAP",{AED:{fractionSize:2,format:{symbol:".د.إ",template:"{{amount}} {{symbol}}"}},AFN:{fractionSize:2,format:{symbol:"؋",template:"{{amount}} {{symbol}}"}},ALL:{fractionSize:2,format:{symbol:"L",template:"{{symbol}}{{amount}}"}},AMD:{fractionSize:2,format:{symbol:"դր.",template:"{{amount}} {{symbol}}"}},ANG:{fractionSize:2,format:{symbol:"ƒ",template:"{{symbol}}{{amount}}"}},AOA:{fractionSize:2},ARS:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},AUD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},AWG:{fractionSize:2,format:{symbol:"ƒ",template:"{{symbol}}{{amount}}"}},AZN:{fractionSize:2,format:{symbol:"₼",template:"{{symbol}}{{amount}}"}},BAM:{fractionSize:2,format:{symbol:"KM",template:"{{symbol}}{{amount}}"}},BBD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},BDT:{fractionSize:2},BGN:{fractionSize:2,format:{symbol:"лв",template:"{{symbol}}{{amount}}"}},BHD:{fractionSize:3,format:{symbol:".د.ب",template:"{{amount}} {{symbol}}"}},BIF:{fractionSize:0},BMD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},BND:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},BOB:{fractionSize:2,format:{symbol:"Bs.",template:"{{symbol}}{{amount}}"}},BOV:{fractionSize:2},BRL:{fractionSize:2,format:{symbol:"R$",template:"{{symbol}}{{amount}}"}},BSD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},BTN:{fractionSize:2},BWP:{fractionSize:2,format:{symbol:"P",template:"{{symbol}}{{amount}}"}},BYR:{fractionSize:0,format:{symbol:"p.",template:"{{amount}} {{symbol}}"}},BZD:{fractionSize:2,format:{symbol:"BZ$",template:"{{symbol}}{{amount}}"}},CAD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},CDF:{fractionSize:2},CHE:{fractionSize:2},CHF:{fractionSize:2,format:{symbol:"CHF",template:"{{symbol}}{{amount}}"}},CHW:{fractionSize:2},CLF:{fractionSize:4},CLP:{fractionSize:0,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},CNY:{fractionSize:2,format:{symbol:"元",template:"{{symbol}}{{amount}}"}},COP:{fractionSize:0,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},COU:{fractionSize:2},CRC:{fractionSize:2,format:{symbol:"₡",template:"{{symbol}}{{amount}}"}},CUC:{fractionSize:2},CUP:{fractionSize:2,format:{symbol:"$MN",template:"{{symbol}}{{amount}}"}},CVE:{fractionSize:2},CZK:{fractionSize:2,format:{symbol:"Kč",template:"{{amount}} {{symbol}}"}},DJF:{fractionSize:0},DKK:{fractionSize:2,format:{symbol:"kr",template:"{{amount}} {{symbol}}"}},DOP:{fractionSize:2,format:{symbol:"RD$",template:"{{symbol}}{{amount}}"}},DZD:{fractionSize:2,format:{symbol:".د.ج",template:"{{amount}} {{symbol}}"}},EEK:{fractionSize:2,format:{symbol:"kr",template:"{{symbol}}{{amount}}"}},EGP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},ERN:{fractionSize:2},ETB:{fractionSize:2},EUR:{fractionSize:2,format:{symbol:"€",template:"{{symbol}}{{amount}}"}},FJD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},FKP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},GBP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},GEL:{fractionSize:2},GGP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},GHC:{fractionSize:2,format:{symbol:"¢",template:"{{symbol}}{{amount}}"}},GHS:{fractionSize:2},GIP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},GMD:{fractionSize:2},GNF:{fractionSize:0},GTQ:{fractionSize:2,format:{symbol:"Q",template:"{{symbol}}{{amount}}"}},GYD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},HKD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},HNL:{fractionSize:2,format:{symbol:"L",template:"{{symbol}}{{amount}}"}},HRK:{fractionSize:2,format:{symbol:"kn",template:"{{symbol}}{{amount}}"}},HTG:{fractionSize:2},HUF:{fractionSize:0,format:{symbol:"Ft",template:"{{symbol}}{{amount}}"}},IDR:{fractionSize:3,format:{symbol:"Rp",template:"{{symbol}}{{amount}}"}},ILS:{fractionSize:2,format:{symbol:"₪",template:"{{symbol}}{{amount}}"}},IMP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},INR:{fractionSize:2,format:{symbol:"₹",template:"{{symbol}}{{amount}}"}},IQD:{fractionSize:3,format:{symbol:".د.ع",template:"{{amount}} {{symbol}}"}},IRR:{fractionSize:2,format:{symbol:"﷼",template:"{{amount}} {{symbol}}"}},ISK:{fractionSize:2,format:{symbol:"kr",template:"{{symbol}}{{amount}}"}},JEP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},JMD:{fractionSize:2,format:{symbol:"J$",template:"{{symbol}}{{amount}}"}},JOD:{fractionSize:3,format:{symbol:".د.إ",template:"{{amount}} {{symbol}}"}},JPY:{fractionSize:0,format:{symbol:"¥",template:"{{symbol}}{{amount}}"}},KES:{fractionSize:2,format:{symbol:"KSh",template:"{{symbol}}{{amount}}"}},KGS:{fractionSize:2,format:{symbol:"сом",template:"{{symbol}}{{amount}}"}},KHR:{fractionSize:2,format:{symbol:"៛",template:"{{symbol}}{{amount}}"}},KMF:{fractionSize:0},KPW:{fractionSize:0,format:{symbol:"₩",template:"{{symbol}}{{amount}}"}},KRW:{fractionSize:0,format:{symbol:"₩",template:"{{symbol}}{{amount}}"}},KWD:{fractionSize:3,format:{symbol:".د.ك",template:"{{amount}} {{symbol}}"}},KYD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},KZT:{fractionSize:2,format:{symbol:"₸",template:"{{symbol}}{{amount}}"}},LAK:{fractionSize:2,format:{symbol:"₭",template:"{{symbol}}{{amount}}"}},LBP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},LKR:{fractionSize:2,format:{symbol:"₨",template:"{{symbol}}{{amount}}"}},LRD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},LSL:{fractionSize:2},LTL:{fractionSize:2,format:{symbol:"Lt",template:"{{symbol}}{{amount}}"}},LVL:{fractionSize:2,format:{symbol:"Ls",template:"{{amount}} {{symbol}}"}},LYD:{fractionSize:3,format:{symbol:".د.ل",template:"{{amount}} {{symbol}}"}},MAD:{fractionSize:2,format:{symbol:".د.م",template:"{{amount}} {{symbol}}"}},MDL:{fractionSize:2},MGA:{fractionSize:2},MKD:{fractionSize:2,format:{symbol:"ден",template:"{{symbol}}{{amount}}"}},MMK:{fractionSize:2},MNT:{fractionSize:2,format:{symbol:"₮",template:"{{symbol}}{{amount}}"}},MOP:{fractionSize:2},MRO:{fractionSize:2},MUR:{fractionSize:2,format:{symbol:"₨",template:"{{symbol}}{{amount}}"}},MVR:{fractionSize:2},MWK:{fractionSize:2},MXN:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},MXV:{fractionSize:2},MYR:{fractionSize:2,format:{symbol:"RM",template:"{{symbol}}{{amount}}"}},MZN:{fractionSize:2,format:{symbol:"MT",template:"{{symbol}}{{amount}}"}},NAD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},NGN:{fractionSize:2,format:{symbol:"₦",template:"{{symbol}}{{amount}}"}},NIO:{fractionSize:2,format:{symbol:"C$",template:"{{symbol}}{{amount}}"}},NOK:{fractionSize:2,format:{symbol:"kr",template:"{{amount}} {{symbol}}"}},NPR:{fractionSize:2,format:{symbol:"₨",template:"{{symbol}}{{amount}}"}},NZD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},OMR:{fractionSize:3,format:{symbol:"﷼",template:"{{amount}} {{symbol}}"}},PAB:{fractionSize:2,format:{symbol:"B/.",template:"{{symbol}}{{amount}}"}},PEN:{fractionSize:2,format:{symbol:"S/.",template:"{{symbol}}{{amount}}"}},PGK:{fractionSize:2},PHP:{fractionSize:2,format:{symbol:"₱",template:"{{symbol}}{{amount}}"}},PKR:{fractionSize:2,format:{symbol:"₨",template:"{{symbol}}{{amount}}"}},PLN:{fractionSize:2,format:{symbol:"zł",template:"{{amount}}{{symbol}}"}},PYG:{fractionSize:0,format:{symbol:"Gs",template:"{{amount}}{{symbol}}"}},QAR:{fractionSize:2,format:{symbol:"﷼",template:"{{amount}} {{symbol}}"}},RON:{fractionSize:2,format:{symbol:"lei",template:"{{symbol}}{{amount}}"}},RSD:{fractionSize:2,format:{symbol:"Дин.",template:"{{symbol}}{{amount}}"}},RUB:{fractionSize:2,format:{symbol:"₽",template:"{{amount}} {{symbol}}"}},RUR:{fractionSize:2,format:{symbol:"₽",template:"{{amount}} {{symbol}}"}},RWF:{fractionSize:0},SAR:{fractionSize:2,format:{symbol:"﷼",template:"{{amount}} {{symbol}}"}},SBD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},SCR:{fractionSize:2,format:{symbol:"₨",template:"{{symbol}}{{amount}}"}},SDG:{fractionSize:2},SEK:{fractionSize:2,format:{symbol:"kr",template:"{{amount}} {{symbol}}"}},SGD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},SHP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},SLL:{fractionSize:2},SOS:{fractionSize:2,format:{symbol:"S",template:"{{symbol}}{{amount}}"}},SRD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},SSP:{fractionSize:2},STD:{fractionSize:2},SVC:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},SYP:{fractionSize:2,format:{symbol:"£",template:"{{symbol}}{{amount}}"}},SZL:{fractionSize:2},THB:{fractionSize:2,format:{symbol:"฿",template:"{{symbol}}{{amount}}"}},TJS:{fractionSize:2},TMT:{fractionSize:2},TND:{fractionSize:3,format:{symbol:".د.ت",template:"{{amount}} {{symbol}}"}},TOP:{fractionSize:2},TRL:{fractionSize:2,format:{symbol:"₤",template:"{{symbol}}{{amount}}"}},TRY:{fractionSize:2},TTD:{fractionSize:2,format:{symbol:"TT$",template:"{{symbol}}{{amount}}"}},TWD:{fractionSize:0,format:{symbol:"NT$",template:"{{symbol}}{{amount}}"}},TZS:{fractionSize:0,format:{symbol:"TSh",template:"{{symbol}}{{amount}}"}},UAH:{fractionSize:2,format:{symbol:"₴",template:"{{symbol}}{{amount}}"}},UGX:{fractionSize:0,format:{symbol:"USh",template:"{{symbol}}{{amount}}"}},USD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},USN:{fractionSize:2},UYI:{fractionSize:0},UYU:{fractionSize:0,format:{symbol:"$U",template:"{{symbol}}{{amount}}"}},UZS:{fractionSize:2,format:{symbol:"so’m",template:"{{symbol}}{{amount}}"}},VEF:{fractionSize:2,format:{symbol:"Bs",template:"{{symbol}}{{amount}}"}},VND:{fractionSize:0,format:{symbol:"₫",template:"{{amount}} {{symbol}}"}},VUV:{fractionSize:0},WST:{fractionSize:2},XAF:{fractionSize:0},XCD:{fractionSize:2,format:{symbol:"$",template:"{{symbol}}{{amount}}"}},XDR:{fractionSize:0},XOF:{fractionSize:0},XPF:{fractionSize:0},XSU:{fractionSize:0},XUA:{fractionSize:0},YER:{fractionSize:2,format:{symbol:"﷼",template:"{{amount}} {{symbol}}"}},ZAR:{fractionSize:2,format:{symbol:"R",template:"{{symbol}}{{amount}}"}},ZMW:{fractionSize:2},ZWD:{fractionSize:2,format:{symbol:"Z$",template:"{{symbol}}{{amount}}"}},ZWL:{fractionSize:2}})},{}],70:[function(a,b,c){"use strict";angular.module("ng-currency").filter("currencySymbol",["currencyUtils",function(a){return function(b){return a.findCurrencySymbol(b)}}])},{}],71:[function(a,b,c){"use strict";angular.module("ng-currency",[]),a("./constants/currencyMap"),a("./services/currencyUtils"),a("./filters/currencySymbol")},{"./constants/currencyMap":69,"./filters/currencySymbol":70,"./services/currencyUtils":72}],72:[function(a,b,c){"use strict";angular.module("ng-currency").service("currencyUtils",["CURRENCY_MAP",function(a){this.findCurrencySymbol=function(b){var c=a[b];return c&&c.format&&c.format.symbol?c.format.symbol:b},this.formatAmount=function(b,c){var d=a[c];if(d){var e=void 0!==d.fractionSize&&"string"!=typeof b?b.toFixed(d.fractionSize):b,f=d.format;return f?f.template.replace("{{amount}}",e).replace("{{symbol}}",f.symbol):c+" "+e}return c+" "+b}}])},{}],73:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":78,dup:1}],74:[function(a,b,c){"use strict";angular.module("ng-filters").filter("isNonZero",[function(){return function(a){if(null===a)return!0;if(void 0===a)return!0;if(""===a.toString().trim())return!0;var b=parseFloat(a);return 0!==b}}])},{}],75:[function(a,b,c){"use strict";angular.module("ng-filters").filter("regex",[function(){return function(a,b,c){var d,e=[];try{d=new RegExp(c)}catch(f){return e}return angular.forEach(a,function(a,c){d.test(a[b])&&e.push(a)}),e}}])},{}],76:[function(a,b,c){"use strict";angular.module("ng-filters").filter("seconds",[function(){return function(a){var b,c,d,e;d=Math.floor(a/60),e=a%60,c=Math.floor(d/60),d%=60,b=Math.floor(c/24),c%=24;var f=[];return b&&f.push(b+"d"),c&&f.push(c+"h"),d&&f.push(d+"m"),e&&f.push(Math.floor(e)+"s"),f.join(" ")}}])},{}],77:[function(a,b,c){"use strict";angular.module("ng-filters").filter("uptime",[function(){return function(a){var b,c,d,e;d=Math.floor(a/60),e=a%60,c=Math.floor(d/60),d%=60,b=Math.floor(c/24),c%=24;var f=[];return b&&f.push(b+"d"),(c||b)&&f.push(c+"h"),(d||c||b)&&f.push(d+"m"),f.push(Math.floor(e)+"s"),f.join(" ")}}])},{}],78:[function(a,b,c){"use strict";angular.module("ng-filters",[]),a("./templates"),a("./filters/isNonZero.js"),a("./filters/regex.js"),a("./filters/seconds.js"),a("./filters/uptime.js")},{"./filters/isNonZero.js":74,"./filters/regex.js":75,"./filters/seconds.js":76,"./filters/uptime.js":77,"./templates":79}],79:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],80:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":82,dup:1}],81:[function(a,b,c){"use strict";angular.module("ng-gradient").directive("gradient",["$parse",function(a){return{scope:!0,link:function(b,c,d,e){var f=function(a,b,c){return"#"+((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)},g=function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d});var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null};b.findElements=function(){b.elements=c[0].querySelectorAll(d.gradientSelector)},b.generateSpectrum=function(a,b,c){for(var d=[a],e=g(a),h=g(b),i=1;c-1>i;i++)d.push(f(Math.round(e.r+(h.r-e.r)/(c-1)*i),Math.round(e.g+(h.g-e.g)/(c-1)*i),Math.round(e.b+(h.b-e.b)/(c-1)*i)));return d.push(b),d},b.renderGradients=function(){if(b.startColor&&b.stopColor&&b.elements&&b.elements.length){var a=b.generateSpectrum(b.startColor,b.stopColor,b.elements.length);angular.forEach(a,function(a,c){b.elements[c].style[d.gradientAttribute]=a})}},d.gradientEvent?b.$on(d.gradientEvent,function(){b.findElements(),b.renderGradients()}):b.findElements(),b.$watch(function(){return[a(d.gradientStartColor)(b),a(d.gradientStopColor)(b)]},function(a){b.startColor=a[0],b.stopColor=a[1],b.renderGradients()},!0)}}}])},{}],82:[function(a,b,c){"use strict";angular.module("ng-gradient",[]),a("./templates"),a("./directives/gradient.js")},{"./directives/gradient.js":81,"./templates":83}],83:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],84:[function(a,b,c){a("./src/scripts/main"),b.exports="ng-local-storage"},{"./src/scripts/main":85}],85:[function(a,b,c){"use strict";angular.module("ng-local-storage",[]),a("./templates"),a("./services/localStorage"),a("./services/models/LocalStorageBooleanValue"),a("./services/models/LocalStorageObjectValue"),a("./services/models/LocalStorageValue"),a("./services/localStorageFailSafe"),a("./services/stateStorage")},{"./services/localStorage":86,"./services/localStorageFailSafe":87,"./services/models/LocalStorageBooleanValue":88,"./services/models/LocalStorageObjectValue":89,"./services/models/LocalStorageValue":90,"./services/stateStorage":91,"./templates":92}],86:[function(a,b,c){"use strict";angular.module("ng-local-storage").factory("localStorage",["$window",function(a){return a.localStorage}])},{}],87:[function(a,b,c){"use strict";angular.module("ng-local-storage").factory("localStorageFailSafe",["$window","stateStorage",function(a,b){function c(a){if(a){var b="test";try{return a.setItem(b,"ubnt"),a.removeItem(b),!0}catch(c){}}return!1}var d;return d=c(a.localStorage)?a.localStorage:c(a.sessionStorage)?a.sessionStorage:b}])},{}],88:[function(a,b,c){"use strict";angular.module("ng-local-storage").factory("LocalStorageBooleanValue",["LocalStorageValue",function(a){function b(b,c){a.call(this,b,c)}return b.prototype=Object.create(a.prototype),b.prototype.constructor=a,b.prototype.hydrate=function(){this._value="true"===this._localStorage.getItem(this._LOCALSTORAGE_KEY)},b.prototype.dehydrate=function(){this._localStorage.setItem(this._LOCALSTORAGE_KEY,this._value?"true":"false")},b}])},{}],89:[function(a,b,c){"use strict";angular.module("ng-local-storage").factory("LocalStorageObjectValue",["LocalStorageValue",function(a){function b(b,c){a.call(this,b,c)}return b.prototype=Object.create(a.prototype),b.prototype.constructor=a,b.prototype.hydrate=function(){var a=this._localStorage.getItem(this._LOCALSTORAGE_KEY);this._value=a?JSON.parse(a):void 0},b.prototype.dehydrate=function(){this._localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(this._value))},b}])},{}],90:[function(a,b,c){"use strict";angular.module("ng-local-storage").factory("LocalStorageValue",[function(){function a(a,b){this._localStorage=a,this._LOCALSTORAGE_KEY=b,this._value=null}return a.prototype.setValue=function(a){this._value=a,this.dehydrate()},a.prototype.getValue=function(){return this._value},a.prototype.hydrate=function(){this._value=this._localStorage.getItem(this._LOCALSTORAGE_KEY)},a.prototype.dehydrate=function(){this._localStorage.setItem(this._LOCALSTORAGE_KEY,String(this._value))},a}])},{}],91:[function(a,b,c){"use strict";angular.module("ng-local-storage").service("stateStorage",[function(){this._data={},this.setItem=function(a,b){return this._data[a]=String(b)},this.getItem=function(a){return this._data.hasOwnProperty(a)?this._data[a]:void 0},this.removeItem=function(a){return delete this._data[a]},this.clear=function(){return this._data={}}}])},{}],92:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],93:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":102,dup:1}],94:[function(a,b,c){"use strict";function d(){this.getTotalRows=this.totalRows,this.getTotalLinks=this.totalLinks,this.clampCurrentPage()}d.prototype.clampCurrentPage=function(){var a=Math.min(Math.max(this.currentPage,1),this.getTotalPages());this.currentPage=a||1},d.prototype.setRowsPerPage=function(a){this.rowsPerPage=a,this.clampCurrentPage()},d.prototype.getRowsPerPage=function(){return this.rowsPerPage},d.prototype.setCurrentPage=function(a){this.currentPage=a,this.clampCurrentPage()},d.prototype.getCurrentPage=function(){return this.currentPage},d.prototype.getCurrentPageStart=function(){return Math.min((this.currentPage-1)*this.rowsPerPage+1,this.getTotalRows())},d.prototype.getCurrentPageEnd=function(){return Math.min((this.currentPage-1)*this.rowsPerPage+this.rowsPerPage,this.getTotalRows())},d.prototype.getTotalPages=function(){return Math.ceil(this.getTotalRows()/this.rowsPerPage)},d.prototype.getLinkedPages=function(){for(var a=Math.max(1,this.currentPage-Math.floor((this.getTotalLinks()-1)/2)),b=Math.min(this.getTotalPages(),a+this.getTotalLinks()-1),c=[];b-a<this.getTotalLinks()-1&&a>1;)a--;if(b>a)for(;b>=a;)c.push(a++);return c},d.prototype.changeFirst=function(){this.setCurrentPage(1)},d.prototype.changeLast=function(){this.setCurrentPage(this.getTotalPages())},d.prototype.changePrevious=function(){this.setCurrentPage(this.currentPage-1)},d.prototype.changeNext=function(){this.setCurrentPage(this.currentPage+1)},d.$inject=[],angular.module("ng-pagination").controller("PaginationController",d)},{}],95:[function(a,b,c){"use strict";var d="ng-hide",e="ng-hide-animate";angular.module("ng-pagination").directive("paginationHasPages",["$animate",function(a){return{scope:{},require:"^pagination",link:function(b,c,f,g){b.$watch(function(){return g.getTotalPages()>1},function(b){a[b?"removeClass":"addClass"](c,d,{tempClasses:e})})}}}])},{}],96:[function(a,b,c){"use strict";angular.module("ng-pagination").directive("paginationNext",[function(){return{scope:{},transclude:!0,require:"^pagination",link:function(a,b,c,d,e){e(a.$new(),function(a){b.append(a)}),a.$watch(function(){return d.getCurrentPage()>=d.getTotalPages()},function(b){a.isNextDisabled=b}),b.on("click",function(b){d.changeNext(),a.$apply()})}}}])},{}],97:[function(a,b,c){"use strict";angular.module("ng-pagination").directive("paginationPageSize",[function(){return{scope:{},transclude:!0,require:"^pagination",link:function(a,b,c,d,e){e(a.$new(),function(a){b.append(a)}),a.$watch(function(){return d.getRowsPerPage()},function(b){a.rowsPerPage=b}),a.setRowsPerPage=d.setRowsPerPage.bind(d)}}}])},{}],98:[function(a,b,c){"use strict";angular.module("ng-pagination").directive("paginationPages",[function(){return{scope:{},replace:!0,require:"^pagination",templateUrl:"partials/pages.html",link:function(a,b,c,d){a.$watch(function(){return d.getLinkedPages()},function(b){a.linkedPages=b},!0),a.$watch(function(){return d.getCurrentPage()},function(b){a.currentPage=b}),a.setCurrentPage=d.setCurrentPage.bind(d)}}}])},{}],99:[function(a,b,c){"use strict";angular.module("ng-pagination").directive("pagination",[function(){return{scope:{currentPage:"=paginationCurrentPage",rowsPerPage:"=paginationRowsPerPage",totalRows:"&paginationTotalRows",totalLinks:"&?paginationTotalLinks"},controller:"PaginationController",controllerAs:"paginationCtrl",bindToController:!0,link:function(a,b,c,d){a.$watch(function(){d.clampCurrentPage()})}}}])},{}],100:[function(a,b,c){"use strict";angular.module("ng-pagination").directive("paginationPrevious",[function(){return{scope:{},transclude:!0,require:"^pagination",link:function(a,b,c,d,e){e(a.$new(),function(a){b.append(a)}),a.$watch(function(){return d.getCurrentPage()<=1},function(b){a.isPreviousDisabled=b}),b.on("click",function(b){d.changePrevious(),a.$apply()})}}}])},{}],101:[function(a,b,c){"use strict";angular.module("ng-pagination").directive("paginationState",[function(){return{scope:{},transclude:!0,require:"^pagination",link:function(a,b,c,d,e){e(a.$new(),function(a){b.append(a)}),a.$watch(function(){return d.getCurrentPage()},function(b){a.currentPage=b}),a.$watch(function(){return d.getCurrentPageStart()},function(b){a.pageStart=b}),a.$watch(function(){return d.getCurrentPageEnd()},function(b){a.pageEnd=b}),a.$watch(function(){return d.getTotalRows()},function(b){a.totalRows=b})}}}])},{}],102:[function(a,b,c){"use strict";angular.module("ng-pagination",[]),a("./templates"),a("./controllers/PaginationController.js"),a("./directives/pagination.js"),a("./directives/pages.js"),a("./directives/previous.js"),a("./directives/next.js"),a("./directives/state.js"),a("./directives/pageSize.js"),a("./directives/hasPages.js")},{"./controllers/PaginationController.js":94,"./directives/hasPages.js":95,"./directives/next.js":96,"./directives/pageSize.js":97,"./directives/pages.js":98,"./directives/pagination.js":99,"./directives/previous.js":100,"./directives/state.js":101,"./templates":103}],103:[function(a,b,c){angular.module("ng-pagination").run(["$templateCache",function(a){"use strict";a.put("partials/pages.html",'<ul class="paginationLinks"><li ng-repeat="page in linkedPages" ng-click="setCurrentPage(page)" ng-class="{\'is-page-selected\': page === currentPage}" data-pagenum="{{page}}">{{page}}</li></ul>')}])},{}],104:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":113,dup:1}],105:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":109,dup:1}],106:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],107:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57}],108:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{dup:58}],109:[function(a,b,c){arguments[4][59][0].apply(c,arguments)},{"./config/heyDefaults.js":106,"./config/heyLevel.js":107,"./directives/toaster.js":108,"./services/toasts.js":110,"./templates":111,dup:59}],110:[function(a,b,c){arguments[4][60][0].apply(c,arguments)},{dup:60}],111:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],112:[function(a,b,c){"use strict";angular.module("ng-route-status").directive("routeStatus",["$state","$animate","$timeout","heyToasts",function(a,b,c,d){return{restrict:"E",templateUrl:"partials/routeStatus.html",scope:{fatalState:"&?routeStatusFatalState",immediate:"&?routeStatusImmediate"},transclude:!0,link:function(e,f,g){var h=f.children()[0];e.stateHasResolvers=function(b){return b.resolve?!0:b.name&&-1!==b.name.indexOf(".")?e.stateHasResolvers(a.get(b.name.split(".").slice(0,-1).join("."))):void 0},e.$on("$stateChangeStart",function(a,d,g,i,j){d&&e.stateHasResolvers(d)?(e.timeout&&c.cancel(e.timeout),e.immediate()?b.enter(h,f):e.timeout=c(function(){b.enter(h,f)},200)):(c.cancel(e.timeout),h.remove())}),e.$on("$stateChangeSuccess",function(){c.cancel(e.timeout),b.leave(h)}),e.$on("$stateChangeError",function(f,g,i,j,k,l){c.cancel(e.timeout),b.leave(h);var m=l?l.status:null;switch(m){case 404:d.pushError("Unable to change pages. That page does not exist.");break;default:a.transitionTo(e.fatalState()||"fatal",{error:m||400})}})}}}])},{}],113:[function(a,b,c){"use strict";a("hey"),angular.module("ng-route-status",["hey"]),a("./templates"),a("./directives/routeStatus.js")},{"./directives/routeStatus.js":112,"./templates":114,hey:105}],114:[function(a,b,c){angular.module("ng-route-status").run(["$templateCache",function(a){"use strict";a.put("partials/routeStatus.html",'<div id="routeStatus" class="whiteout ng-animatable"><div class="appSpinner appSpinner--medium appSpinner--dark"></div><div ng-transclude></div></div>')}])},{}],115:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":119,dup:1}],116:[function(a,b,c){"use strict";angular.module("ng-unifi-ui").directive("unifiUiListFilterButtons",[function(){return{scope:{config:"=unifiUiListFilterButtonsConfig"},templateUrl:"partials/listFilterButtons.html",replace:!0}}])},{}],117:[function(a,b,c){"use strict";angular.module("ng-unifi-ui").directive("unifiUiListFilterDropdown",["$translate",function(a){return{scope:{config:"=unifiUiListFilterDropdownConfig",filterByLabel:"@unifiUiListFilterDropdownFilterByLabel",filterByAllLabel:"@unifiUiListFilterDropdownFilterByAllLabel"},templateUrl:"partials/listFilterDropdown.html",replace:!0,link:function(b,c,d){b.getCurrentFilters=function(){var c=[];return angular.forEach(b.config,function(b){if(!b.excludeFromSummary&&(b.isVisible?b.isVisible():!0)){var d=b.items.filter(function(a){return!a.excludeFromSummary&&a.isSelected()}).map(function(b){
return b.translationKey?a.instant(b.translationKey):a.instant(b.label)});d.length&&c.push(d.join("+"))}}),c.join(", ")||b.filterByAllLabel}}}}])},{}],118:[function(a,b,c){"use strict";angular.module("ng-unifi-ui").directive("unifiUiSingleFilterDropdown",["$translate",function(a){return{scope:{filterGroup:"=unifiUiSingleFilterDropdownFilterGroup",filterByLabel:"@unifiUiSingleFilterDropdownFilterByLabel",filterByAllLabel:"@unifiUiSingleFilterDropdownFilterByAllLabel"},replace:!0,templateUrl:"partials/singleFilterDropdown.html",link:function(b){b.getCurrentFilters=function(){var c=[],d=b.filterGroup,e=d.items.filter(function(a){return!a.excludeFromSummary&&a.isSelected()}).map(function(b){return b.translationKey?a.instant(b.translationKey):b.label});return e.length&&c.push(e.join("+")),c.join(", ")||b.filterByAllLabel}}}}])},{}],119:[function(a,b,c){"use strict";angular.module("ng-unifi-ui",[]),a("./directives/listFilterButtons"),a("./directives/listFilterDropdown"),a("./directives/singleFilterDropdown"),a("./templates")},{"./directives/listFilterButtons":116,"./directives/listFilterDropdown":117,"./directives/singleFilterDropdown":118,"./templates":120}],120:[function(a,b,c){angular.module("ng-unifi-ui").run(["$templateCache",function(a){"use strict";a.put("partials/listFilterButtons.html",'<div ng-repeat="filterGroup in config" ng-if="filterGroup.isVisible ? filterGroup.isVisible() : true" class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter appMainButtonGroup--cozy"><li ng-repeat="filterItem in filterGroup.items" ng-attr-id="{{::[\'filterButton\', filterGroup.id, filterItem.id].join(\'-\')}}" ng-click="filterItem.onSelect()" ng-class="{        \'is-button-selected\': filterItem.isSelected()      }" class="button appMainButton appMainButton--cozy"><span>{{filterItem.translationKey ? (filterItem.translationKey | translate) : filterItem.label}}</span><span>{{filterItem.getCount ? \' (\' + (filterItem.getCount() || 0) + \')\' : \'\'}}</span></li></ul></div>'),a.put("partials/listFilterDropdown.html",'<div class="appActionBarFilter"><div ng-click="isDropdownVisible = !isDropdownVisible" on-outside-element-click="isDropdownVisible = false" class="appMainButton appMainButton--filter appMainButton--cozy appMainButton--withDropdown"><span class="button__icon button__icon--left icon ubnt-icon--filter-fill visible--xs"></span><span ng-if="filterByLabel" class="visible--smUp">{{filterByLabel}}&nbsp;</span><span class="noTextTransform">{{getCurrentFilters()}}</span><span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><div ng-class="{\'is-dropdown-visible\': isDropdownVisible}" ng-click="$event.stopPropagation()" class="appDropdown appDropdown--left appDropdown--inButton appDropdown--filters"><div class="appForm appForm--cozy"><div ng-repeat="filterGroup in config" ng-show="filterGroup.isVisible ? filterGroup.isVisible() : true" class="appFormGroup appFormGroup--cozy"><div class="appSubHeading">{{filterGroup.translationKey ? (filterGroup.translationKey | translate) : filterGroup.label}}</div><ul class="list"><li ng-repeat="filterItem in filterGroup.items" ng-init="groupId = [\'filterDropdown\', filterGroup.id].join(\'-\')"><div ng-init="inputId = [groupId, filterItem.id].join(\'-\')" class="appInputGroup fullWidth"><input type="{{::filterGroup.allowMultiple ? \'checkbox\' : \'radio\'}}" name="{{::filterGroup.allowMultiple ? inputId : groupId}}" ng-attr-id="{{::inputId}}" ng-checked="filterItem.isSelected()" ng-click="filterItem.onSelect(); $event.stopPropagation();"><label for="{{::inputId}}"><span ng-if="filterItem.translationKey">{{filterItem.translationKey | translate}}</span><span ng-if="!filterItem.translationKey">{{filterItem.label}}</span></label></div><div ng-if="filterItem.getCount" class="count count--round appCount appCount--grey"><div class="count__value">{{filterItem.getCount() || 0}}</div></div></li></ul></div></div></div></div></div>'),a.put("partials/singleFilterDropdown.html",'<div class="appActionBarFilter"><div ng-click="isDropdownVisible = !isDropdownVisible" on-outside-element-click="isDropdownVisible = false" class="appMainButton appMainButton--filter appMainButton--cozy appMainButton--withDropdown"><span class="button__icon button__icon--left icon ubnt-icon--filter-fill visible--xs"></span><span ng-if="filterByLabel" class="visible--smUp">{{filterByLabel}}:&nbsp;</span><span class="noTextTransform">{{getCurrentFilters()}}</span><span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul ng-class="{\'is-dropdown-visible\': isDropdownVisible}" class="appDropdown appDropdown--left appDropdown--inButton"><li ng-repeat="filterItem in filterGroup.items" ng-click="filterItem.onSelect()" class="appDropdown__item"><span ng-if="filterItem.translationKey">{{filterItem.translationKey | translate}}</span><span ng-if="!filterItem.translationKey">{{filterItem.label}}</span></li></ul></div></div>')}])},{}],121:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":130,dup:1}],122:[function(a,b,c){"use strict";angular.module("pageutils").controller("GlobalSideNavController",["$scope","globalSideNav",function(a,b){this.globalSideNav=b,this.setHoveredState=function(c){a.$apply(function(){b.setHoveredState(c)})},this.getHoveredState=function(){return b.isHovered}}])},{}],123:[function(a,b,c){"use strict";angular.module("pageutils.link").directive("pageutilsNavLink",["$window","$location",function(a,b){return{require:"^pageutilsNav",link:function(c,d,e,f){var g=e.pageutilsNavLink.replace("#",""),h=e.pageutilsNavLinkHref,i="A"===d[0].nodeName;if(!g||!h)throw new Error("You must specify pageutilsNavLink and pageutilsNavLinkHref!");i?d.attr("href",h):d.bind("click",function(b){b.preventDefault(),a.location=h}),c.$on("$routeChangeStart",function(a,c,e){var h=b.path();new RegExp("^"+g+"(/.*)?$").test(h)?d.addClass(f.activeClass):d.removeClass(f.activeClass)})}}}])},{}],124:[function(a,b,c){"use strict";angular.module("pageutils.state").directive("pageutilsNavState",["$state","$rootScope",function(a,b){return{scope:{},require:"^pageutilsNav",link:function(c,d,e,f){var g=e.pageutilsNavState;d.bind("click",function(d){c.$apply(function(){a.go(g).then(function(){b.$broadcast("pageutilsStateChangeSuccess")})})});var h=function(){a.includes(g)?d.addClass(f.activeClass):d.removeClass(f.activeClass)};h(),c.$on("$stateChangeSuccess",h)}}}])},{}],125:[function(a,b,c){"use strict";angular.module("pageutils").directive("pageutilsNav",[function(){return{controller:["$attrs",function(a){this.activeClass=a.pageutilsNavActiveClass}]}}])},{}],126:[function(a,b,c){"use strict";angular.module("pageutils").directive("pageutilsOnload",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.pageutilsOnload)(b),f=function(a){b.$apply(function(){e(b,{$event:a})})};c[0].addEventListener("load",f)}}}])},{}],127:[function(a,b,c){"use strict";angular.module("pageutils").directive("pageutilsSideNavHover",[function(){return{controller:"GlobalSideNavController",link:function(a,b,c,d){b.on("mouseenter",function(){d.setHoveredState(!0)}),b.on("mouseleave",function(){d.setHoveredState(!1)})}}}])},{}],128:[function(a,b,c){"use strict";angular.module("pageutils").directive("pageutilsSideNavIsHoveredClass",[function(){return{controller:"GlobalSideNavController",link:function(a,b,c,d){var e=c.pageutilsSideNavIsHoveredClass,f=!0,g=!f;"!"===e.substr(0,1)&&(e=e.substr(1),f=!f,g=!g),a.$watch(d.getHoveredState,function(a){f&&a===!0||g&&a===!1?b.addClass(e):b.removeClass(e)})}}}])},{}],129:[function(a,b,c){"use strict";angular.module("pageutils").directive("pageutilsTitle",["$rootScope",function(a){return{scope:{},link:function(b,c,d){a.$on("$pageutilsTitleChange",function(a,b){c.html(b)})}}}])},{}],130:[function(a,b,c){"use strict";angular.module("pageutils",[]),angular.module("pageutils.state",["pageutils","ui.router"]),angular.module("pageutils.link",["pageutils"]),a("./templates"),a("./controllers/GlobalSideNavController.js"),a("./directives/nav.js"),a("./directives/nav-link.js"),a("./directives/nav-state.js"),a("./directives/onload.js"),a("./directives/title.js"),a("./directives/sideNavIsHoveredClass.js"),a("./directives/sideNavHover.js"),a("./services/globalSideNav.js"),a("./services/props.js")},{"./controllers/GlobalSideNavController.js":122,"./directives/nav-link.js":123,"./directives/nav-state.js":124,"./directives/nav.js":125,"./directives/onload.js":126,"./directives/sideNavHover.js":127,"./directives/sideNavIsHoveredClass.js":128,"./directives/title.js":129,"./services/globalSideNav.js":131,"./services/props.js":132,"./templates":133}],131:[function(a,b,c){"use strict";angular.module("pageutils").service("globalSideNav",function(){this.isHovered=!1,this.setHoveredState=function(a){this.isHovered=!!a}})},{}],132:[function(a,b,c){"use strict";angular.module("pageutils").service("pageProps",["$rootScope",function(a){this.setTitle=function(b){a.$broadcast("$pageutilsTitleChange",b)}}])},{}],133:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],134:[function(a,b,c){"use strict";var d=a("./lib/utils/common").assign,e=a("./lib/deflate"),f=a("./lib/inflate"),g=a("./lib/zlib/constants"),h={};d(h,e,f,g),b.exports=h},{"./lib/deflate":135,"./lib/inflate":136,"./lib/utils/common":137,"./lib/zlib/constants":140}],135:[function(a,b,c){"use strict";function d(a,b){var c=new u(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}function f(a,b){return b=b||{},b.gzip=!0,d(a,b)}var g=a("./zlib/deflate.js"),h=a("./utils/common"),i=a("./utils/strings"),j=a("./zlib/messages"),k=a("./zlib/zstream"),l=Object.prototype.toString,m=0,n=4,o=0,p=1,q=2,r=-1,s=0,t=8,u=function(a){this.options=h.assign({level:r,method:t,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=g.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==o)throw new Error(j[c]);b.header&&g.deflateSetHeader(this.strm,b.header)};u.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?n:m,"string"==typeof a?e.input=i.string2buf(a):"[object ArrayBuffer]"===l.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new h.Buf8(f),e.next_out=0,e.avail_out=f),c=g.deflate(e,d),c!==p&&c!==o)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||d!==n&&d!==q)||("string"===this.options.to?this.onData(i.buf2binstring(h.shrinkBuf(e.output,e.next_out))):this.onData(h.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&c!==p);return d===n?(c=g.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===o):d===q?(this.onEnd(o),e.avail_out=0,!0):!0},u.prototype.onData=function(a){this.chunks.push(a)},u.prototype.onEnd=function(a){a===o&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=u,c.deflate=d,c.deflateRaw=e,c.gzip=f},{"./utils/common":137,"./utils/strings":138,"./zlib/deflate.js":142,"./zlib/messages":147,"./zlib/zstream":149}],136:[function(a,b,c){"use strict";function d(a,b){var c=new n(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}var f=a("./zlib/inflate.js"),g=a("./utils/common"),h=a("./utils/strings"),i=a("./zlib/constants"),j=a("./zlib/messages"),k=a("./zlib/zstream"),l=a("./zlib/gzheader"),m=Object.prototype.toString,n=function(a){this.options=g.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=f.inflateInit2(this.strm,b.windowBits);if(c!==i.Z_OK)throw new Error(j[c]);this.header=new l,f.inflateGetHeader(this.strm,this.header)};n.prototype.push=function(a,b){var c,d,e,j,k,l=this.strm,n=this.options.chunkSize,o=!1;if(this.ended)return!1;d=b===~~b?b:b===!0?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof a?l.input=h.binstring2buf(a):"[object ArrayBuffer]"===m.call(a)?l.input=new Uint8Array(a):l.input=a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new g.Buf8(n),l.next_out=0,l.avail_out=n),c=f.inflate(l,i.Z_NO_FLUSH),c===i.Z_BUF_ERROR&&o===!0&&(c=i.Z_OK,o=!1),c!==i.Z_STREAM_END&&c!==i.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&c!==i.Z_STREAM_END&&(0!==l.avail_in||d!==i.Z_FINISH&&d!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(e=h.utf8border(l.output,l.next_out),j=l.next_out-e,k=h.buf2string(l.output,e),l.next_out=j,l.avail_out=n-j,j&&g.arraySet(l.output,l.output,e,j,0),this.onData(k)):this.onData(g.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(o=!0)}while((l.avail_in>0||0===l.avail_out)&&c!==i.Z_STREAM_END);return c===i.Z_STREAM_END&&(d=i.Z_FINISH),d===i.Z_FINISH?(c=f.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===i.Z_OK):d===i.Z_SYNC_FLUSH?(this.onEnd(i.Z_OK),l.avail_out=0,!0):!0},n.prototype.onData=function(a){this.chunks.push(a)},n.prototype.onEnd=function(a){a===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=n,c.inflate=d,c.inflateRaw=e,c.ungzip=d},{"./utils/common":137,"./utils/strings":138,"./zlib/constants":140,"./zlib/gzheader":143,"./zlib/inflate.js":145,"./zlib/messages":147,"./zlib/zstream":149}],137:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],138:[function(a,b,c){"use strict";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a("./common"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{"./common":137}],139:[function(a,b,c){"use strict";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],140:[function(a,b,c){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],141:[function(a,b,c){"use strict";function d(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a=-1^a;for(var h=d;g>h;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}var f=d();b.exports=e},{}],142:[function(a,b,c){"use strict";function d(a,b){return a.msg=G[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(C.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){D._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,C.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=E(a.adler,b,e,c):2===a.state.wrap&&(a.adler=F(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ja?a.strstart-(a.w_size-ja):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ia,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ia-(m-f),f=m-ia,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ja)){C.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ha)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ha-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ha)););}while(a.lookahead<ja&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===H)return sa;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return sa;if(a.strstart-a.block_start>=a.w_size-ja&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?sa:sa}function o(a,b){for(var c,d;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===H)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c)),a.match_length>=ha)if(d=D._tr_tally(a,a.strstart-a.match_start,a.match_length-ha),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ha){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=a.strstart<ha-1?a.strstart:ha-1,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function p(a,b){for(var c,d,e;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===H)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ha-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===S||a.match_length===ha&&a.strstart-a.match_start>4096)&&(a.match_length=ha-1)),a.prev_length>=ha&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ha,d=D._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ha),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=ha-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return sa}else if(a.match_available){if(d=D._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return sa}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=D._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ha-1?a.strstart:ha-1,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ia){if(m(a),a.lookahead<=ia&&b===H)return sa;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ha&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ia;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ia-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ha?(c=D._tr_tally(a,1,a.match_length-ha),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===H)return sa;break}if(a.match_length=0,c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function s(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=B[a.level].max_lazy,a.good_match=B[a.level].good_length,a.nice_match=B[a.level].nice_length,a.max_chain_length=B[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ha-1,a.match_available=0,a.ins_h=0}function t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*fa),this.dyn_dtree=new C.Buf16(2*(2*da+1)),this.bl_tree=new C.Buf16(2*(2*ea+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(ga+1),this.heap=new C.Buf16(2*ca+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*ca+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=X,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?la:qa,a.adler=2===b.wrap?0:1,b.last_flush=H,D._tr_init(b),M):d(a,O)}function v(a){var b=u(a);return b===M&&s(a.state),b}function w(a,b){return a&&a.state?2!==a.state.wrap?O:(a.state.gzhead=b,M):O}function x(a,b,c,e,f,g){if(!a)return O;var h=1;if(b===R&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>Z||c!==Y||8>e||e>15||0>b||b>9||0>g||g>V)return d(a,O);8===e&&(e=9);var i=new t;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ha-1)/ha),i.window=new C.Buf8(2*i.w_size),i.head=new C.Buf16(i.hash_size),i.prev=new C.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new C.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,v(a)}function y(a,b){return x(a,b,Y,$,_,W)}function z(a,b){var c,h,k,l;if(!a||!a.state||b>L||0>b)return a?d(a,O):O;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===ra&&b!==K)return d(a,0===a.avail_out?Q:O);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===la)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=F(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=ma):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,wa),h.status=qa);else{var m=Y+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=T||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=ka),m+=31-m%31,h.status=qa,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===ma)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=na)}else h.status=na;if(h.status===na)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=pa)}else h.status=pa;if(h.status===pa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=qa)):h.status=qa),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,M}else if(0===a.avail_in&&e(b)<=e(c)&&b!==K)return d(a,Q);if(h.status===ra&&0!==a.avail_in)return d(a,Q);if(0!==a.avail_in||0!==h.lookahead||b!==H&&h.status!==ra){var o=h.strategy===T?r(h,b):h.strategy===U?q(h,b):B[h.level].func(h,b);if(o!==ua&&o!==va||(h.status=ra),o===sa||o===ua)return 0===a.avail_out&&(h.last_flush=-1),M;if(o===ta&&(b===I?D._tr_align(h):b!==L&&(D._tr_stored_block(h,0,0,!1),b===J&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,M}return b!==K?M:h.wrap<=0?N:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?M:N)}function A(a){var b;return a&&a.state?(b=a.state.status,b!==la&&b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra?d(a,O):(a.state=null,b===qa?d(a,P):M)):O}var B,C=a("../utils/common"),D=a("./trees"),E=a("./adler32"),F=a("./crc32"),G=a("./messages"),H=0,I=1,J=3,K=4,L=5,M=0,N=1,O=-2,P=-3,Q=-5,R=-1,S=1,T=2,U=3,V=4,W=0,X=2,Y=8,Z=9,$=15,_=8,aa=29,ba=256,ca=ba+1+aa,da=30,ea=19,fa=2*ca+1,ga=15,ha=3,ia=258,ja=ia+ha+1,ka=32,la=42,ma=69,na=73,oa=91,pa=103,qa=113,ra=666,sa=1,ta=2,ua=3,va=4,wa=3,xa=function(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e};B=[new xa(0,0,0,0,n),new xa(4,4,8,4,o),new xa(4,5,16,8,o),new xa(4,6,32,32,o),new xa(4,4,16,16,p),new xa(8,16,32,32,p),new xa(8,16,128,128,p),new xa(8,32,128,256,p),new xa(32,128,258,1024,p),new xa(32,258,258,4096,p)],c.deflateInit=y,c.deflateInit2=x,c.deflateReset=v,c.deflateResetKeep=u,c.deflateSetHeader=w,c.deflate=z,c.deflateEnd=A,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":137,"./adler32":139,"./crc32":141,"./messages":147,"./trees":148}],143:[function(a,b,c){"use strict";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=d},{}],144:[function(a,b,c){"use strict";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,
p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg="invalid literal/length code",c.mode=d;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg="invalid distance code",c.mode=d;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg="invalid distance too far back",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg="invalid distance too far back",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],145:[function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(oa),b.distcode=b.distdyn=new r.Buf32(pa),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sa=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new r.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=la;break}if((15&m)!==J){a.msg="unknown compression method",c.mode=la;break}if(m>>>=4,n-=4,wa=(15&m)+8,0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg="invalid window size",c.mode=la;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg="unknown compression method",c.mode=la;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=la;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=t(c.check,Ba,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=la;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ia;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=ba,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg="invalid block type",c.mode=la}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=la;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=la;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=v(w,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid code lengths set",c.mode=la;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sa)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg="invalid bit length repeat",c.mode=la;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=la;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===la)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=la;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid literal/lengths set",c.mode=la;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg="invalid distances set",c.mode=la;break}if(c.mode=ba,b===B)break a;case ba:c.mode=ca;case ca:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ha;break}if(32&ra){c.back=-1,c.mode=V;break}if(64&ra){a.msg="invalid literal/length code",c.mode=la;break}c.extra=15&ra,c.mode=da;case da:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=ea;case ea:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg="invalid distance code",c.mode=la;break}c.offset=sa,c.extra=15&ra,c.mode=fa;case fa:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=la;break}c.mode=ga;case ga:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=la;break}q>c.wnext?(q-=c.wnext,oa=c.wsize-q):oa=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,oa=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pa[oa++];while(--q);0===c.length&&(c.mode=ca);break;case ha:if(0===j)break a;f[h++]=c.length,j--,c.mode=ca;break;case ia:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=la;break}m=0,n=0}c.mode=ja;case ja:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=la;break}m=0,n=0}c.mode=ka;case ka:xa=D;break a;case la:xa=G;break a;case ma:return H;case na:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<la&&(c.mode<ia||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=ma,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===ba||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xa===C&&(xa=I),xa)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a("../utils/common"),s=a("./adler32"),t=a("./crc32"),u=a("./inffast"),v=a("./inftrees"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,aa=19,ba=20,ca=21,da=22,ea=23,fa=24,ga=25,ha=26,ia=27,ja=28,ka=29,la=30,ma=31,na=32,oa=852,pa=592,qa=15,ra=qa,sa=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":137,"./adler32":139,"./crc32":141,"./inffast":144,"./inftrees":146}],146:[function(a,b,c){"use strict";var d=a("../utils/common"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;e>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;e>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;e>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{"../utils/common":137}],147:[function(a,b,c){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],148:[function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a){return 256>a?ga[a]:ga[256+(a>>>7)]}function f(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function g(a,b,c){a.bi_valid>V-c?(a.bi_buf|=b<<a.bi_valid&65535,f(a,a.bi_buf),a.bi_buf=b>>V-a.bi_valid,a.bi_valid+=c-V):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function h(a,b,c){g(a,c[2*b],c[2*b+1])}function i(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function j(a){16===a.bi_valid?(f(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function k(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;U>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;T>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function l(a,b,c){var d,e,f=new Array(U+1),g=0;for(d=1;U>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=i(f[h]++,h))}}function m(){var a,b,c,d,e,f=new Array(U+1);for(c=0,d=0;O-1>d;d++)for(ia[d]=c,a=0;a<1<<_[d];a++)ha[c++]=d;for(ha[c-1]=d,e=0,d=0;16>d;d++)for(ja[d]=e,a=0;a<1<<aa[d];a++)ga[e++]=d;for(e>>=7;R>d;d++)for(ja[d]=e<<7,a=0;a<1<<aa[d]-7;a++)ga[256+e++]=d;for(b=0;U>=b;b++)f[b]=0;for(a=0;143>=a;)ea[2*a+1]=8,a++,f[8]++;for(;255>=a;)ea[2*a+1]=9,a++,f[9]++;for(;279>=a;)ea[2*a+1]=7,a++,f[7]++;for(;287>=a;)ea[2*a+1]=8,a++,f[8]++;for(l(ea,Q+1,f),a=0;R>a;a++)fa[2*a+1]=5,fa[2*a]=i(a,5);ka=new na(ea,_,P+1,Q,U),la=new na(fa,aa,0,R,U),ma=new na(new Array(0),ba,0,S,W)}function n(a){var b;for(b=0;Q>b;b++)a.dyn_ltree[2*b]=0;for(b=0;R>b;b++)a.dyn_dtree[2*b]=0;for(b=0;S>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*X]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function o(a){a.bi_valid>8?f(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function p(a,b,c,d){o(a),d&&(f(a,c),f(a,~c)),E.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function q(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function r(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&q(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!q(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function s(a,b,c){var d,f,i,j,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],f=a.pending_buf[a.l_buf+k],k++,0===d?h(a,f,b):(i=ha[f],h(a,i+P+1,b),j=_[i],0!==j&&(f-=ia[i],g(a,f,j)),d--,i=e(d),h(a,i,c),j=aa[i],0!==j&&(d-=ja[i],g(a,d,j)));while(k<a.last_lit);h(a,X,b)}function t(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=T,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)r(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],r(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,r(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],k(a,b),l(f,j,a.bl_count)}function u(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*Y]++):10>=h?a.bl_tree[2*Z]++:a.bl_tree[2*$]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function v(a,b,c){var d,e,f=-1,i=b[1],j=0,k=7,l=4;for(0===i&&(k=138,l=3),d=0;c>=d;d++)if(e=i,i=b[2*(d+1)+1],!(++j<k&&e===i)){if(l>j){do h(a,e,a.bl_tree);while(0!==--j)}else 0!==e?(e!==f&&(h(a,e,a.bl_tree),j--),h(a,Y,a.bl_tree),g(a,j-3,2)):10>=j?(h(a,Z,a.bl_tree),g(a,j-3,3)):(h(a,$,a.bl_tree),g(a,j-11,7));j=0,f=e,0===i?(k=138,l=3):e===i?(k=6,l=3):(k=7,l=4)}}function w(a){var b;for(u(a,a.dyn_ltree,a.l_desc.max_code),u(a,a.dyn_dtree,a.d_desc.max_code),t(a,a.bl_desc),b=S-1;b>=3&&0===a.bl_tree[2*ca[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function x(a,b,c,d){var e;for(g(a,b-257,5),g(a,c-1,5),g(a,d-4,4),e=0;d>e;e++)g(a,a.bl_tree[2*ca[e]+1],3);v(a,a.dyn_ltree,b-1),v(a,a.dyn_dtree,c-1)}function y(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return G;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return H;for(b=32;P>b;b++)if(0!==a.dyn_ltree[2*b])return H;return G}function z(a){pa||(m(),pa=!0),a.l_desc=new oa(a.dyn_ltree,ka),a.d_desc=new oa(a.dyn_dtree,la),a.bl_desc=new oa(a.bl_tree,ma),a.bi_buf=0,a.bi_valid=0,n(a)}function A(a,b,c,d){g(a,(J<<1)+(d?1:0),3),p(a,b,c,!0)}function B(a){g(a,K<<1,3),h(a,X,ea),j(a)}function C(a,b,c,d){var e,f,h=0;a.level>0?(a.strm.data_type===I&&(a.strm.data_type=y(a)),t(a,a.l_desc),t(a,a.d_desc),h=w(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?A(a,b,c,d):a.strategy===F||f===e?(g(a,(K<<1)+(d?1:0),3),s(a,ea,fa)):(g(a,(L<<1)+(d?1:0),3),x(a,a.l_desc.max_code+1,a.d_desc.max_code+1,h+1),s(a,a.dyn_ltree,a.dyn_dtree)),n(a),d&&o(a)}function D(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ha[c]+P+1)]++,a.dyn_dtree[2*e(b)]++),a.last_lit===a.lit_bufsize-1}var E=a("../utils/common"),F=4,G=0,H=1,I=2,J=0,K=1,L=2,M=3,N=258,O=29,P=256,Q=P+1+O,R=30,S=19,T=2*Q+1,U=15,V=16,W=7,X=256,Y=16,Z=17,$=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],aa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ba=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],da=512,ea=new Array(2*(Q+2));d(ea);var fa=new Array(2*R);d(fa);var ga=new Array(da);d(ga);var ha=new Array(N-M+1);d(ha);var ia=new Array(O);d(ia);var ja=new Array(R);d(ja);var ka,la,ma,na=function(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length},oa=function(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b},pa=!1;c._tr_init=z,c._tr_stored_block=A,c._tr_flush_block=C,c._tr_tally=D,c._tr_align=B},{"../utils/common":137}],149:[function(a,b,c){"use strict";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}],150:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":152,dup:1}],151:[function(a,b,c){"use strict";angular.module("passwordcontrol").directive("passwordcontrolValidateConfirm",[function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(b){var e=a.$eval(c.passwordcontrolValidateConfirm)||"";return b=b||"",e===b?(d.$setValidity("passwordConfirm",!0),b):void d.$setValidity("passwordConfirm",!1)}d.$parsers.unshift(e),d.$formatters.unshift(e),a.$watch(c.passwordcontrolValidateConfirm,function(){e(d.$viewValue)})}}}])},{}],152:[function(a,b,c){"use strict";angular.module("passwordcontrol",[]),a("./templates"),a("./directives/validateConfirm.js")},{"./directives/validateConfirm.js":151,"./templates":153}],153:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],154:[function(a,b,c){"use strict";angular.module("webrtc").config(["$provide",function(a){a.decorator("$http",["$delegate","$injector",function(a,b){var c=a,d=b.get("WebRtcConnector"),e=b.get("UseWebrtc");if(!e)return c;var f=function(a){return a=a||{},a.withWebRTC?d.sendApiRequest(a.url,a):c.apply(c,arguments)};return Object.keys(c).filter(function(a){return"function"==typeof c[a]}).forEach(function(a){f[a]=function(b,e){return e=e||{},e.withWebRTC?d.sendApiRequest(b,e):c[a].apply(c,arguments)}}),f}])}])},{}],155:[function(a,b,c){"use strict";angular.module("webrtc").constant("WEBRTC_EVENTS",{WEBRTC_WS_CONNECTING:"WEBRTC_WS_CONNECTING",WEBRTC_WS_CONNECTED:"WEBRTC_WS_CONNECTED",WEBRTC_WS_CONNECTION_ERROR:"WEBRTC_WS_CONNECTION_ERROR",WEBRTC_REQUEST_SDP_OFFER:"WEBRTC_REQUEST_SDP_OFFER",WEBRTC_SDP_OFFER_RECEIVED:"WEBRTC_SDP_OFFER_RECEIVED",WEBRTC_SDP_OFFER_RECEIVE_ERROR:"WEBRTC_SDP_OFFER_RECEIVE_ERROR",WEBRTC_SENDING_SDP_ANSWER:"WEBRTC_SENDING_SDP_ANSWER",WEBRTC_SENT_SDP_ANSWER:"WEBRTC_SENT_SDP_ANSWER",WEBRTC_SENT_SDP_ANSWER_ERROR:"WEBRTC_SENT_SDP_ANSWER_ERROR",WEBRTC_CREATING_DATA_CHANNELS:"WEBRTC_CREATING_DATA_CHANNELS",WEBRTC_CONNECTED:"WEBRTC_CONNECTED",WEBRTC_CONNECTION_ERROR:"WEBRTC_CONNECTION_ERROR"})},{}],156:[function(a,b,c){"use strict";angular.module("webrtc").constant("WEBRTC_TIMEOUTS",{CREATING_CHANNEL_TIMEOUT:5e3,SDP_ANSER_SEND_DELAY:500})},{}],157:[function(a,b,c){"use strict";angular.module("webrtc",[]),window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,window.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,window.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate,window.URL=window.URL||window.webkitURL,angular.module("webrtc").value("UseWebrtc","OVERRIDEME").value("StunHost","OVERRIDEME").value("WssHost","OVERRIDEME").value("WssEndpoint","OVERRIDEME").value("EnableCloudLogging","OVERRIDEME"),a("./config/webrtc"),a("./constants/webrtcEvents"),a("./constants/webrtcTimeouts"),a("./service/converters/arrayBufferToUint8Array"),a("./service/converters/byteArrayToValue"),a("./service/converters/params"),a("./service/converters/stringToUTF8Array"),a("./service/converters/uint8ArrayToBinary"),a("./service/converters/valueToUint8Array"),a("./service/uuidGenerator"),a("./service/WebRtcChannel"),a("./service/WebRtcConnector"),a("./service/webRtcLogger"),a("./service/WebRtcPeer"),a("./service/WsConnector")},{"./config/webrtc":154,"./constants/webrtcEvents":155,"./constants/webrtcTimeouts":156,"./service/WebRtcChannel":158,"./service/WebRtcConnector":159,"./service/WebRtcPeer":160,"./service/WsConnector":161,"./service/converters/arrayBufferToUint8Array":162,"./service/converters/byteArrayToValue":163,"./service/converters/params":164,"./service/converters/stringToUTF8Array":165,"./service/converters/uint8ArrayToBinary":166,"./service/converters/valueToUint8Array":167,"./service/uuidGenerator":168,"./service/webRtcLogger":169}],158:[function(a,b,c){"use strict";angular.module("webrtc").service("WebRtcChannel",["byteArrayToValueConverter","arrayBufferToUint8ArrayConverter","stringToUTF8ArrayConverter","valueToUint8ArrayConverter","uint8ArrayToBinaryConverter","webRtcLogger","$q","$timeout","paramsConverter",function(a,b,c,d,e,f,g,h,i){var j=1,k=6e5,l=65450;l-=l%3;var m={},n=0,o=0,p=null,q=function(a){a.channel&&(this.channel=a.channel),a.handler&&(this.handler=a.handler),this.init()};return q.prototype={partial:!1,onmessageCallback:null,init:function(){return this.channel?(this.channel.onmessage=this.handleChannelMessage.bind(this),void(this.onmessage=this.handleWebRtcResponse.bind(this))):void f.logError("You must initialize with a channel")},close:function(){this.channel.close()},handleChannelMessage:function(a){this.convertEventToData(a,this.handleChannelMessageData.bind(this))},convertEventToData:function(a,b){if(a.data instanceof Blob){var c=new FileReader;c.onload=function(){b(this.result)},c.readAsArrayBuffer(a.data)}else b(a.data)},handleChannelMessageData:function(b){var c=0,d=b.byteLength?b.byteLength:b.size||0;n>=o&&(o=a.convert(new Uint8Array(b,0,4)),n=0,p=new Uint8Array(o),c=4,d-=c,f.logTrace("Beginning of "+o+" byte message."));var e=new Uint8Array(b,c,d);p.set(e,n),n+=d,f.logTrace(d+" bytes of message received. "+(o-n)+" bytes left."),this.onmessage&&(this.partial?this.onmessage(e,0>=o-n):0>=o-n&&this.onmessage(p,!0))},send:function(a,e,g,i){var j,n,o,p,q,r,s,t=this,u=JSON.stringify(e),v=u.length,w=0,x=l;!g||g instanceof ArrayBuffer||"string"==typeof g||(g=JSON.stringify(g)),i||"string"!=typeof g||(x=16360),i&&(g=atob(g.slice(g.indexOf(",")+1))),n=g?g.length||g.byteLength:0;var y=function(){var e=m[a];for(e.timeout&&h.cancel(e.timeout),e.timeout=h(function(){e.deferredParam.reject("Request timed out"),t.handler&&t.handler.onRequestTimeout&&t.handler.onRequestTimeout()},e.timeoutParam||k),r=g?g.slice(w,w+x):null,s=r?r.length||r.byteLength:0,!i&&r&&"string"==typeof r&&(s=4*s),s=12+v+s,o=12+v+n,p=new ArrayBuffer(4+s),q=new Uint8Array(p),q.set(d.convert(o,4),0),q.set(d.convert(a,8),4),q.set(d.convert(v,4),12),j=0;v>j;j++)q[j+4+8+4]=u.charCodeAt(j);if(r)if(i)for(j=0;n>j;j++)q[j+4+8+4+v]=r.charCodeAt(j);else if("string"==typeof r){var l=0;for(j=0;j<r.length;j++){var y=c.convert(r.charAt(j));q.set(y,l+4+8+4+v),l+=y.length}}else q.set(b.convert(r),16+v);f.logInfo("WebRtcChannel send: sending "+s+" bytes for message id "+a),this.sendRaw(p),n-=x,w+=x,z()}.bind(this),z=function(){n>=0&&h(y,15)}.bind(this);z()},sendRaw:function(a){this.channel.send(a)},sendApiRequest:function(a,b){var c=angular.extend({},b);a.startsWith("/upload")&&(c.data=null,delete c.data),f.logInfo("sendApiRequest",a,c);var d,e=j++,h=g.defer();b=b||{};var k=b.type||b.method;d={path:a,method:k?k.toUpperCase():"GET",contentType:b.contentType};var l=function(a){m[e]={resolve:h.resolve,reject:h.reject,success:b.success,error:b.error,statusCodeHandlers:b.statusCode,timeoutParam:b.timeout,deferredParam:h},d["Accept-Encoding"]="gzip",f.logInfo("Sending WebRTC request",e,d,"length: "+(a&&a.length?a.length:0)),this.send(e,d,a,b.convertToBinary)}.bind(this);switch(d.method){case"GET":case"DELETE":var n=a.split("?");n.length>1?(d.path=n[0],d.queryString=n[1]):b.data&&(d.queryString=i.convert(b.data)),l();break;default:if(b.data&&l(b.data),b.file){var o=new FileReader;o.readAsArrayBuffer(b.file),o.onload=function(){l(o.result)}}}return h.promise},parseWebRtcResponse:function(b){var c=a.convert(b.subarray(8,12)),d=JSON.parse(String.fromCharCode.apply(null,b.subarray(12,12+c)));return d.id=a.convert(b.subarray(0,8)),d.content=b.subarray(12+c),d},handleWebRtcResponse:function(a){var b=this.parseWebRtcResponse(a);"gzip"===b["Content-Encoding"]&&(f.logInfo("Received compressed WebRTC response for message "+b.id+" of length "+(b.content&&b.content.length?b.content.length:0)+" bytes."),b.content=window.pako.inflate(b.content),f.logInfo("Decompressed WebRTC response for message "+b.id+" of length "+(b.content&&b.content.length?b.content.length:0)+" bytes."));var c=angular.extend({},b);"application/octet-stream"===c.contentType&&(c.content=null,delete c.content),f.logInfo("Received WebRTC response for message "+b.id+" of length "+(b.content&&b.content.length?b.content.length:0)+" bytes.",c);var d;switch(b.contentType){case"application/json":var g=angular.extend({},b);delete g.content,delete g.headers,delete g.contentType,delete g.statusCode,delete g.contentType,delete g["content-type"],d={contentType:b.contentType,"content-type":b["content-type"],headers:b.headers,statusCode:b.statusCode,data:{data:JSON.parse(e.convert(b.content)),meta:g},msg:b.msg};break;case"application/octet-stream":d={arraybuffer:b.content};break;default:var i=new Blob([b.content],{type:b.contentType});d=window.URL.createObjectURL(i)}var j=m[b.id];if(j)delete m[b.id],h.cancel(j.timeout),200===b.statusCode?j.resolve(d):j.reject(d);else{if(!this.onmessageCallback)return void f.logError("No pending promise or onmessage callback for request"+b.id,c);this.onmessageCallback(d)}}},q}])},{}],159:[function(a,b,c){"use strict";angular.module("webrtc").service("WebRtcConnector",["$q","StunHost","WssHost","WssEndpoint","WebRtcPeer","webRtcLogger","$rootScope","WEBRTC_EVENTS",function(a,b,c,d,e,f,g,h){var i=!1;this.establishWebRTCConnection=function(j,k,l,m){var n=a.defer();return f.clear(),f.setPreserveLog(!0),this.p2pConnector=new e({turnCredentials:k,handler:l,stunHost:b,wssHost:c,wssEndpoint:d,channelNames:m}),this.p2pConnector.connect(j).then(function(a){g.$broadcast(h.WEBRTC_CONNECTED),f.logInfo("Connected via WebRTC with API/Update Channel",a),i=!0,n.resolve(a)}).then(function(){f.clear()})["catch"](function(a){g.$broadcast(h.WEBRTC_CONNECTION_ERROR),n.reject(a)})["finally"](function(){f.setPreserveLog(!1)}),n.promise},this.sendApiRequest=function(b,c){return i?this.p2pConnector.sendApiRequest(b,c):a.reject("Not connected")},this.closeChannel=function(a){this.p2pConnector.closeChannel(a)},this.openChannel=function(a){this.p2pConnector.openChannel(a)},this.on=function(a,b){this.p2pConnector.on(a,b)}}])},{}],160:[function(a,b,c){"use strict";angular.module("webrtc").service("WebRtcPeer",["$q","$rootScope","$timeout","WEBRTC_EVENTS","WEBRTC_TIMEOUTS","WebRtcChannel","webRtcLogger","WsConnector",function(a,b,c,d,e,f,g,h){
var i=function(a){a.stunHost&&(this.stunHost=a.stunHost),a.turnCredentials&&(this.turnCredentials=a.turnCredentials),a.wssHost&&(this.wssHost=a.wssHost),a.wssEndpoint&&(this.wssEndpoint=a.wssEndpoint),a.handler&&(this.handler=a.handler),a.channelNames&&(this.channelNames=a.channelNames),this.init()};return i.prototype={stunHost:null,turnHost:null,wssHost:null,wssEndpoint:null,deviceId:null,wsConnector:null,channelNames:null,channels:{},init:function(){this.answer="",this.offer="",this.deferredConnection=a.defer();var b=[{urls:[this.stunHost]}];this.turnCredentials&&(this.turnCredentials.uris&&(this.turnCredentials.urls=[],this.turnCredentials.urls.push(b[0].urls[0]),this.turnCredentials.uris.forEach(function(a){a.match("^stun:")&&this.turnCredentials.urls.push(a),a.match("^turn:")&&a.match("\\?transport=udp")&&(this.turnHost||(this.turnHost=a,this.turnCredentials.urls.push(a)))}.bind(this)),delete this.turnCredentials.uris),this.turnCredentials.password&&(this.turnCredentials.credential=this.turnCredentials.password,delete this.turnCredentials.password),b.splice(0,1,this.turnCredentials)),this.pc=new window.RTCPeerConnection({iceServers:b},null),this.pc.negotiationneeded=function(a){g.logInfo("negotiationneeded",a)}.bind(this),this.pc.oniceconnectionstatechange=function(a){g.logInfo("oniceconnectionstatechange",this.pc.iceConnectionState,a),this.onConnnectionStateChange(this.pc.iceConnectionState)}.bind(this),this.pc.onicecandidate=function(a){if(g.logInfo("onicecandidate",this.pc.iceGatheringState,a.candidate),a.candidate){var b=a.candidate.candidate.split(" ")[2];"tcp"!==b&&this.addCandidate(a.candidate)}"complete"===this.pc.iceGatheringState&&c(function(){this.onAnswerReady(this.answer)}.bind(this),e.SDP_ANSER_SEND_DELAY)}.bind(this)},close:function(){this.pc&&this.pc.close(),this.pc=null},addCandidate:function(a){for(var b,c,d=this.answer,e=0,f=0,g=/m=[^\n]*\n/g;null!==(b=g.exec(d));){if(f===a.sdpMLineIndex)return c=b.index,b=g.exec(d),e=null!==b?b.index:-1,e>=0?this.answer=[d.slice(0,e),"a="+a.candidate+"\n",d.slice(e)].join(""):this.answer=d+"a="+a.candidate+"\n",this.answer;f++}return this.answer=d,this.answer},addOffer:function(a){this.offer=a;var b=function(a){g.logError(a)};this.pc.setRemoteDescription(new window.RTCSessionDescription({sdp:a,type:"offer"}),function(){this.pc.createAnswer(function(a){this.pc.setLocalDescription(new window.RTCSessionDescription(a),function(){this.answer=a.sdp}.bind(this),b)}.bind(this),b)}.bind(this),b)},onAnswerReady:function(a){this.sendSDPAnswer(a,this.webRtcId).then(function(a){b.$broadcast(d.WEBRTC_SENT_SDP_ANSWER),g.logInfo("Sent SDP answer",a)}.bind(this))["catch"](function(){b.$broadcast(d.WEBRTC_SENT_SDP_ANSWER_ERROR),g.logError("Failed to send SDP answer"),this.deferredConnection.reject(arguments)}.bind(this))},onConnnectionStateChange:function(a){switch(g.logInfo("onConnnectionStateChange: "+a),a){case"new":case"checking":break;case"connected":this.onConnectedState();break;default:g.logError("fatal error",a),this.deferredConnection.reject(arguments)}},onConnectedState:function(){try{this.pc.getStats(function(a){var b,c=a.result();c.forEach(function(a,c){b=a.names(),g.logInfo("  "+c+":"),b.forEach(function(b){g.logInfo("    "+b+" = "+JSON.stringify(a.stat(b)))})})})}catch(c){g.logInfo("cannot create webrtc stats: "+c)}b.$broadcast(d.WEBRTC_CREATING_DATA_CHANNELS),g.logInfo("creating channels: "+this.channelNames);var e=[];this.channelNames.forEach(function(a){e.push(this.openChannel(a))}.bind(this)),a.all(e).then(function(){g.logInfo("WebRTC initialized."),this.deferredConnection.resolve(this)}.bind(this))["catch"](this.deferredConnection.reject)},connect:function(a){return this.deviceId=a,this.wsConnector||(this.wsConnector=new h({handler:this.handler})),this.wsConnector.connect(this.wssHost,this.wssEndpoint).then(function(){this.getSDPOffer().then(function(a){b.$broadcast(d.WEBRTC_SDP_OFFER_RECEIVED),g.logInfo("Received SDP offer",a),this.webRtcId=a.webRtcId,this.addOffer(a.sdp)}.bind(this))["catch"](function(){b.$broadcast(d.WEBRTC_SDP_OFFER_RECEIVE_ERROR),g.logError("Did not receive SDP offer"),this.deferredConnection.reject(arguments)}.bind(this))}.bind(this))["catch"](function(){g.logError("Failed to connect UniFiWsConnector"),this.deferredConnection.reject(arguments)}.bind(this)),this.deferredConnection.promise},getSDPOffer:function(){return b.$broadcast(d.WEBRTC_REQUEST_SDP_OFFER),g.logInfo("Request SDP Offer"),this.wsConnector.sendActionRequest("sdp_exchange",{device_id:this.deviceId,payload:{type:"OFFER",stunUri:this.stunHost,turnUri:this.turnHost,username:this.turnCredentials.username,password:this.turnCredentials.credential,ttl:this.turnCredentials.ttl}})},sendSDPAnswer:function(a,c){return b.$broadcast(d.WEBRTC_SENDING_SDP_ANSWER),g.logInfo("Sending SDP answer"),this.wsConnector.sendActionRequest("sdp_exchange",{device_id:this.deviceId,payload:{type:"ANSWER",sdpAnswer:a,webRtcId:c}})},sendApiRequest:function(b,c){var d=a.defer();return this.channels.api||(g.logError("API Channel not available"),d.reject("API Channel not connected")),this.channels.api.sendApiRequest(b,c).then(d.resolve,d.reject),d.promise},closeChannel:function(a){var b=this.channels[a];b&&b.close()},openChannel:function(b){g.logInfo("opening channel: "+b);var d=this.channels[b];if(d)return a.when(d);var h=a.defer();d=this.pc.createDataChannel(b,{});var i=c(function(){"open"!==d.readyState&&(h.reject("opening channel timeout: "+b),g.logError("opening channel timeout: "+b))},e.CREATING_CHANNEL_TIMEOUT);return d.onopen=function(){c.cancel(i),this.channels[b]=new f({channel:d,handler:this.handler}),h.resolve(this.channels[b]),g.logInfo("channel ready: "+b)}.bind(this),d.onerror=function(a){h.reject("channel error: "+b,a),g.logError(a)},d.onclose=function(a){h.reject("channel closed: "+b,a),g.logError(a)},h.promise},on:function(a,b){var c=this.channels[a];c&&(c.onmessageCallback=b)}},i}])},{}],161:[function(a,b,c){"use strict";angular.module("webrtc").service("WsConnector",["uuidGenerator","webRtcLogger","$q","$rootScope","WEBRTC_EVENTS",function(a,b,c,d,e){var f=6e4,g=6e4,h={},i=function(a){a.handler&&(this.handler=a.handler)};return i.prototype={pongTimer:null,connect:function(a,f){var g=this,h=c.defer(),i=a+f;return b.logInfo("Connecting to airOS UniFi wss: ",i),setTimeout(function(){d.$broadcast(e.WEBRTC_WS_CONNECTED),g.ws=new WebSocket(i),g.ws.onmessage=g.onMessage.bind(g),g.ws.onopen=function(){d.$broadcast(e.WEBRTC_WS_CONNECTED),b.logInfo("Connected to airOS UniFi wss: ",i),h.resolve(g),b.logTrace("onOpen"),g.ping()}.bind(g),g.ws.onclose=function(){b.logTrace("onClose")}.bind(g),g.ws.onerror=function(){d.$broadcast(e.WEBRTC_WS_CONNECTION_ERROR),b.logError("onError"),h.reject()}.bind(g)},0),h.promise},send:function(a){return this.ws?(b.logInfo("Sending request:",a),this.ws.send(JSON.stringify(a)),!0):!1},sendAction:function(d,e,f){var i=a.uuid(),j=c.defer(),k={message:"action:request",action:d,action_id:i,args:e};return h[i]={requiresResponse:f,deferred:j,timeout:setTimeout(function(){b.logWarn("AirOS Action Request Timed Out",k),j.reject("Request timed out")}.bind(this),g)},this.send(k),j.promise},sendActionRequest:function(a,b){return this.sendAction(a,b,!0)},ping:function(){return this.ws?void this.ws.send("ping"):!1},onActionMessage:function(a){var b=h[a.action_id];"action:response"!==a.message&&"action:validation"!==a.message&&"action:error"!==a.message&&h[a.action_id].requiresResponse||("action:response"===a.message?(delete h[a.action_id],clearTimeout(b.timeout),b.deferred.resolve(a.response)):"action:validation"===a.message?"error"===a.result&&(delete h[a.action_id],clearTimeout(b.timeout),b.deferred.reject(a.errors)):"action:error"===a.message?"error"===a.result&&(delete h[a.action_id],clearTimeout(b.timeout),b.deferred.reject(a.error)):(delete h[a.action_id],clearTimeout(b.timeout),b.deferred.resolve()))},onNotificationMessage:function(a){this.handler.onNotificationMessage(a)},onMessage:function(a){var b;return"pong"===a.data?(clearTimeout(this.pongTimer),void(this.pingTimer=setTimeout(this.ping,f))):(b=JSON.parse(a.data),void(b.message&&(h[b.action_id]?this.onActionMessage(b):"device:disconnected"===b.message&&this.onNotificationMessage(b))))}},i}])},{}],162:[function(a,b,c){"use strict";angular.module("webrtc").service("arrayBufferToUint8ArrayConverter",[function(){this.convert=function(a){for(var b=new DataView(a),c=new Uint8Array(a.byteLength),d=c.length,e=0;d>e;e++)c[e]=b.getUint8(e);return c}}])},{}],163:[function(a,b,c){"use strict";angular.module("webrtc").service("byteArrayToValueConverter",[function(){this.convert=function(a){for(var b=0,c=0;c<a.length;c++)b+=Math.pow(256,a.length-c-1)*a[c];return b}}])},{}],164:[function(a,b,c){"use strict";angular.module("webrtc").service("paramsConverter",[function(){this.convert=function(a){if(!angular.isObject(a))return null===a?"":a.toString();var b,c,d,e,f,g,h,i="";for(b in a)if(a.hasOwnProperty(b))if(c=a[b],c instanceof Array)for(h in c)c.hasOwnProperty(h)&&(f=c[h],d=b+"["+h+"]",g={},g[d]=f,i+=this.convert(g)+"&");else if(c instanceof Object)for(e in c)c.hasOwnProperty(e)&&(f=c[e],d=b+"["+e+"]",g={},g[d]=f,i+=this.convert(g)+"&");else void 0!==c&&null!==c&&(i+=encodeURIComponent(b)+"="+encodeURIComponent(c)+"&");return i.length?i.substr(0,i.length-1):i}}])},{}],165:[function(a,b,c){"use strict";angular.module("webrtc").service("stringToUTF8ArrayConverter",[function(){this.convert=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b.push(d):2048>d?b.push(192|d>>6,128|63&d):55296>d||d>=57344?b.push(224|d>>12,128|d>>6&63,128|63&d):(c++,d=65536+((1023&d)<<10|1023&a.charCodeAt(c)),b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d))}return b}}])},{}],166:[function(a,b,c){"use strict";angular.module("webrtc").service("uint8ArrayToBinaryConverter",[function(){this.convert=function(a){for(var b,c,d,e=a.length,f=[];e>0;)for(b=new Uint8Array(Array.prototype.slice.call(a,0,10485760)),c=b.length,a=Array.prototype.slice.call(a,10485760),e=a.length,d=0;c>d;d++)f.push(String.fromCharCode(b[d]));return f.join("")}}])},{}],167:[function(a,b,c){"use strict";angular.module("webrtc").service("valueToUint8ArrayConverter",[function(){this.convert=function(a,b){for(var c=new ArrayBuffer(b),d=new Uint8Array(c),e=a,f=b-1;f>=0;--f){d[f]=255&e;for(var g=0;8>g;++g)e/=2}return d}}])},{}],168:[function(a,b,c){"use strict";angular.module("webrtc").service("uuidGenerator",[function(){this.uuid=function a(b){return b?(b^16*Math.random()>>b/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,a)}}])},{}],169:[function(a,b,c){"use strict";angular.module("webrtc").service("webRtcLogger",["EnableCloudLogging",function(a){var b=!1,c=[],d=function(a){b&&c.push(a)},e=function(){var a=window.performance||{},b=a.now||a.mozNow||a.webkitNow||a.msNow||a.oNow;return b?b.bind(a):function(){return(new Date).getTime()}}(),f=function(a){for(var b,c=Array.prototype.slice.call(arguments)[0],d=c.length,f=[],g=0;d>g;g++)if(b=0===g?e().toFixed(4)+"ms -- "+c[g]:c[g],b&&("object"!=typeof b||b instanceof Event))f.push(b);else if(void 0!==b)try{f.push(JSON.parse(JSON.stringify(b)))}catch(h){}return f},g=function(){if(a){var b=f(arguments);console&&console.log&&(d(b),console.log.apply(console,b))}},h=function(b){return function(){if(a){var c=f(arguments);console&&console[b]?(d(c),console[b].apply(console,c)):g.apply(c.unshift(b+": "))}}};this.logInfo=h("info"),this.logDebug=h("debug"),this.logError=h("error"),this.logWarn=h("warn"),this.logTrace=h("trace"),this.setPreserveLog=function(a){b=a},this.clear=function(){c=[]},this.dumpToJsonFile=function(){var a=JSON.stringify(c,null,4);return new Blob([a],{type:"application/json"})}}])},{}],170:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"./src/scripts/main":157,dup:1}],171:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],172:[function(a,b,c){a("backular"),a("busy"),a("clickOff"),a("collection-view"),a("context"),a("context/resolve"),a("frame"),a("frame/dialog"),a("hey"),a("jsonformatter"),a("modelDivergence"),a("ng-currency"),a("ng-filters"),a("ng-gradient"),a("ng-local-storage"),a("ng-pagination"),a("ng-route-status"),a("ng-unifi-ui"),a("pageutils"),a("passwordcontrol"),a("webrtc"),window.pako=a("../../../node_modules/pako")},{"../../../node_modules/pako":134,backular:1,busy:18,clickOff:22,"collection-view":25,context:35,"context/resolve":36,frame:43,"frame/dialog":42,hey:55,jsonformatter:62,modelDivergence:63,"ng-currency":68,"ng-filters":73,"ng-gradient":80,"ng-local-storage":84,"ng-pagination":93,"ng-route-status":104,"ng-unifi-ui":115,pageutils:121,passwordcontrol:150,webrtc:170}]},{},[172,171]);